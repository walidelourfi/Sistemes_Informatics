{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"SISTEMES INFORM\u00c0TICS","text":""},{"location":"#index","title":"\u00cdNDEX","text":"<p>Sprint 1</p> <p>Sprint 2</p> <p>Sprint 3</p>"},{"location":"sprint1/","title":"Sprint 1","text":""},{"location":"sprint1/#installacio-so-ubuntu-24","title":"Instal\u00b7lacio SO Ubuntu 24","text":"<p>Primer de tot, configurem la m\u00e0quina virtual.  En aquest cas, s'ha utilitzat les seg\u00fcents especificacions. </p> <p>Per poder posar la xarxa NAT, primer creem una xarxa. </p> <p>I creem una xarxa amb un nom. </p> <p>Escollim instal\u00b7laci\u00f3 manual. </p> <p>Posem les diferents particions que necessitem. En aquest cas s'ha triat 5 GB de swap, ja que podria ser que la m\u00e0quina es qued\u00e9s sense mem\u00f2ria. 10 GB de home, ja que hi ha diferents usuaris que utilitzaran aquest ordinador i tota la informaci\u00f3 que tenen es guardar\u00e0 all\u00ed. Finalment, 10 GB d'arrel, ja que sol contindr\u00e0 les aplicacions necess\u00e0ries dels usuaris. </p> <p>Finalment, tindrem les seg\u00fcents especificacions de m\u00e0quina quant a SO. </p>"},{"location":"sprint1/#configuracio-xarxa","title":"Configuracio Xarxa","text":"<p>Primer de tot, posem la configuraci\u00f3 manual des de par\u00e0metres. </p> <p>I comprovem que funciona. </p> <p>Per poder canviar la IP de forma manual des dels arxius de configuraci\u00f3 de linux,  anem a /etc/netplan/ i modifiquem el arxiu 01-network. </p> <p>Per poder aplicar els canvis, escrivim la comanda netplan apply. </p> <p>I comprovem que tenim la nova IP i connexi\u00f3 a internet. </p>"},{"location":"sprint1/#punts-de-restauracio","title":"Punts de restauracio","text":""},{"location":"sprint1/#timeshift","title":"TimeShift","text":"<p>Primer instal\u00b7lem TimeShift amb apt. </p> <p>Entrem i creem una snapshot. </p> <p>Podrem comprovar que se'ns ha creat una instant\u00e0nia amb el dia i hora de creaci\u00f3. </p> <p>Instal\u00b7lem GParted per comprovar la restauraci\u00f3. </p> <p>Per restaurar, escollim el snapshot i cliquem a restaurar. </p> <p>Ens mostrar\u00e0 els arxius que es modificaran, crearan o s'eliminaran. </p> <p>Despr\u00e9s, es reiniciar\u00e0 l'ordinador. </p> <p>Finalment, podem veure que gparted no esta. </p>"},{"location":"sprint1/#btrfs","title":"BTRFS","text":"<p>\u00c9s un sistema de volums els quals es poden fer snapshots de solament carpetes que existeixen dintre dels volums.</p>"},{"location":"sprint1/#gestor-darrancada","title":"Gestor d'arrancada","text":""},{"location":"sprint1/#gpt-i-mbr","title":"GPT i MBR","text":"<p>GPT i MBR s\u00f3n dos sistemes de particionatge de discs.</p> <p>GPT i MBR s'inicien al principi tant per a carregar el SO com per a saber on comencen i acaben les particions del disc.</p>"},{"location":"sprint1/#mbr","title":"MBR","text":"<p>Master Boot Record \u00e9s el sistema de particionatge m\u00e9s antic dels dos. Est\u00e0 utilitzat per sistemes antics, sistemes amb BIOS i Windows.</p> <p>Est\u00e0 situat al principi del disc i cont\u00e9: - Bootloader: programa petit per a iniciar el SO. - Taula de particions: mapa on es guarda les direccions de les particions.</p> <p>Les principals caracter\u00edstiques s\u00f3n: - Sol pot tindre 4 particions prim\u00e0ries. - Una de les particions prim\u00e0ries ha de ser activa i, per tant, contenir el SO. - Una de les particions pot ser estesa i contenir m\u00e9s particions dintre. - M\u00e0xim de 2TB per a cada partici\u00f3. </p>"},{"location":"sprint1/#gpt","title":"GPT","text":"<p>GUID Partition Table \u00e9s un est\u00e0ndard de particions, i el m\u00e9s nou dels dos. Est\u00e0 utilitzat per sistemes m\u00e9s nous amb UEFI i sistemes 64 bits, tamb\u00e9 l'utilitza Linux.</p> <p>Cont\u00e9: - MBR protectiu: perqu\u00e8 els sistemes m\u00e9s antics no pensis que el disc est\u00e0 sense particionar i arrencar el SO. - Header: Es guarda la informaci\u00f3 de les particions i de recuperaci\u00f3. - Entrada de cada partici\u00f3.</p> <p>Les principals caracter\u00edstiques s\u00f3n: - 128 particions. - M\u00e0xim de 256TB per partici\u00f3. - La taula de particions es clona a una altra part del disc. </p>"},{"location":"sprint1/#installacio-dual","title":"Instal\u00b7laci\u00f3 DUAL","text":"<p>Sempre que es fa una instal\u00b7laci\u00f3 dual s'instal\u00b7la primer el sistema m\u00e9s antic i despr\u00e9s el m\u00e9s nou. Si \u00e9s una arrancada dual de Windows i Linux, primer s'instal\u00b7la Windows i despr\u00e9s Linux per a poder tenir compatibilitat. Si un dels dos sistemes no arranca. El m\u00e9s segur \u00e9s que el sistema nou ha esborrat el gestor d'arrancada del primer, s'haur\u00e0 de recuperar el gestor.</p>"},{"location":"sprint1/#grub","title":"GRUB","text":"<p>GRand Unified Bootloader, \u00e9s un dels gestors d'arrancada m\u00e9s populars per a Linux. Serveix per a arrancar el SO des del MBR del disc.</p> <p>GRUB funciona en tres etapes: - La primera etapa es troba al MBR i apunta a la resta del GRUB per a poder carregar de forma correcta el sistema de fitxers i SO. - La segona etapa es m\u00e9s complex i s'encarrega de mostrar un men\u00fa amb el SO disponibles (si hi ha un passa directament a la seg\u00fcent etapa) i iniciar el sistema de fitxers. - L'\u00faltima etapa, s'encarrega d'arrencar el SO, en cas de Linux, inicia el kernel i el initrd.</p>"},{"location":"sprint1/#restaurar-grub","title":"Restaurar GRUB","text":"<p>Primer de tot, esborrem la carpeta de GRUB. </p> <p>Si reiniciem la m\u00e0quina, podem veure que no troba el bootloader </p>"},{"location":"sprint1/#bootrepair","title":"BootRepair","text":"<p>Introdu\u00efm l'ISO de bootrepair i iniciem de nou la m\u00e0quina. Al principi, revisar\u00e0 l'estat de la m\u00e0quina. </p> <p>Despr\u00e9s d'una comprovaci\u00f3, podrem iniciar la reparaci\u00f3 autom\u00e0tica o que ens mostri l'informaci\u00f3 sobre l'error. </p> <p>Si escollim reparaci\u00f3 autom\u00e0tica, ens donar\u00e0 l'opci\u00f3 de pujar i visualitzar l'informe de l'error i com s'ha arreglat. </p> <p>Despr\u00e9s d'uns quants minuts, s'ha arreglat el grub. Tamb\u00e9 ens mostrar\u00e0 el link per visualitzar l'informe. </p> <p>En aquest cas, l'informe ens mostra que ha reinstal\u00b7lat el grub. </p> <p>Finalment, podrem tornar a iniciar el SO. </p>"},{"location":"sprint1/#super-grub2","title":"Super GRUB2","text":"<p>Introdu\u00efm l'ISO de s\u00faper GRUB2 i iniciem la m\u00e0quina. Escollim l'opci\u00f3 d'arrancar manualment. </p> <p>Seguidament, escollim que ens mostri els SO instal\u00b7lats. </p> <p>I escollim Linux. En aquest cas sol est\u00e0 aquest SO. </p> <p>Entrem a la terminal i instal\u00b7lam GRUB. </p> <p>Finalment, actualitzem GRUB per a crear el seu fitxer de configuraci\u00f3 i trobar els SO instal\u00b7lats. </p>"},{"location":"sprint1/#gestors-de-paquets","title":"Gestors de Paquets","text":"<p>Els gestors de paquets s\u00f3n software el qual automatitza el maneig de paquets per instal\u00b7lar, desinstal\u00b7lar i actualitzar software.</p>"},{"location":"sprint1/#apt","title":"APT","text":""},{"location":"sprint1/#actualitzacions","title":"Actualitzacions","text":"<p>Per actualitzar els links als repositoris, escrivim apt update. </p> <p>Instal\u00b7lem els paquets actualitzats, juntament amb les depend\u00e8ncies necess\u00e0ries amb apt dist-upgrade. </p>"},{"location":"sprint1/#installacio","title":"Instal\u00b7laci\u00f3","text":"<p>Per instal\u00b7lar utilitzem la comanda apt install (paquet).</p> <p></p>"},{"location":"sprint1/#desinstallacio","title":"Desinstal\u00b7laci\u00f3","text":"<p>Per desinstal\u00b7lar un paquet, escrivim apt remove (paquet). Encara que hagu\u00e9ssim desinstal\u00b7lat el paquet, les depend\u00e8ncies i configuracions instal\u00b7lades continuaran a l'equip.</p> <p></p> <p>Si volem treure les configuracions, escrivim apt purge (paquet). </p> <p>Si volem desinstal\u00b7lar les depend\u00e8ncies, escrivim la comanda apt autoremove. Aquesta comanda borra tots els paquets que l'equip no necessita.</p> <p></p>"},{"location":"sprint1/#versions","title":"Versions","text":"<p>Per veure la versi\u00f3 d'un paquet, escrivim la comanda apt-cache policy (paquet). </p>"},{"location":"sprint1/#pinning-packets","title":"Pinning Packets","text":"<p>Aquest m\u00e8tode consisteix a posar certes prioritats a diferents versions d'un paquet. Primer mirem quina versi\u00f3 de paquet tenim. En aquest cas, nmap t\u00e9 la versi\u00f3 7.94 amb una prioritat de 500. </p> <p>Per posar diferents versions, creem un nou fitxer a la carpeta.</p> <pre>\n<code>\n/etc/apt/preferences.d/\n</code>\n</pre> <p>Dintre del fitxer, escrivim les seg\u00fcents l\u00ednies.</p> <pre>\n<code>\nPackage: (nom paquet)\nPin: version (versio)\nPin-priority: (num prioritat)\n</code>\n</pre> <p>Exemple utilitzant el paquet nmap. </p> <p>En pin priority, la prioritat es dona al n\u00famero m\u00e9s baix.</p> <p>Finalment, si mirem la pol\u00edtica del paquet, podem veure que s'ha canviat la prioritat. </p>"},{"location":"sprint1/#arreglar-installacions","title":"Arreglar Instal\u00b7lacions","text":"<p>Per arreglar instal\u00b7lacions, escrivim la comanda apt -f install. </p>"},{"location":"sprint1/#aptitude","title":"Aptitude","text":""},{"location":"sprint1/#installacio_1","title":"Instal\u00b7laci\u00f3","text":"<p>Per instal\u00b7lar amb aptitude utilitzem la comanda aptitude install (paquet). </p>"},{"location":"sprint1/#desinstalar","title":"Desinstalar","text":"<p>Per desinstal\u00b7lar, escrivim la comanda aptitude remove (paquet). </p> <p>Si desinstal\u00b7lem un paquet amb depend\u00e8ncies, tamb\u00e9 es desinstal\u00b7laran. </p>"},{"location":"sprint1/#versions_1","title":"Versions","text":"<p>Per veure la versi\u00f3 dels paquets escrivim aptitude show (paquet). </p>"},{"location":"sprint1/#dpkg","title":"DPKG","text":"<p>En aquest gestor de paquets, es treballa directament amb arxius .deb.</p>"},{"location":"sprint1/#installar","title":"Instal\u00b7lar","text":"<p>Per instal\u00b7lar paquets escrivim dpkg -i (paquet). </p>"},{"location":"sprint1/#desinstallar","title":"Desinstal\u00b7lar","text":"<p>Per desinstal\u00b7lar, escrivim la comanda dpkg -r (paquet), igual que APT, no esborrara la configuraci\u00f3 de l'aplicaci\u00f3. </p> <p>Si volem desinstal\u00b7lar i esborrar la configuraci\u00f3, escrivim dpkg -P (paquet). </p>"},{"location":"sprint1/#versions_2","title":"Versions","text":"<p>Per veure la versi\u00f3 del paquet instal\u00b7lat, escrivim dpkg -s (paquet).</p>"},{"location":"sprint1/#comprovacions","title":"Comprovacions","text":"<p>Si volem veure si tenim un paquet instal\u00b7lat, escrivim la comanda dpkg --select-selections | grep (paquet). Si el paquet est\u00e0 instal\u00b7lat, ens mostrar\u00e0 el nom del paquet. </p> <p>Si no est\u00e0 instal\u00b7lat, no ens sortir\u00e0 res. </p>"},{"location":"sprint1/#repositoris","title":"Repositoris","text":"<p>Amb APT es poden afegir repositoris que no estiguin o versions alternatives d'aquesta. Primer afegim la l\u00ednia add-apt-repository ppa:(paquet)/(versio). </p> <p>PPA \u00e9s la forma en qu\u00e8 desenvolupadors individuals i equips de distribuir el seu sistema sense estar dins d'un gestor de paquets. Amb aquesta comanda hem afegit a la llista de repositoris el paquet, per a poder instal\u00b7lar-lo, actualitzem la llista. </p> <p>En la carpeta /etc/apt/sources.list.d podrem veure que s'ha creat l'arxiu el qual t\u00e9 la informaci\u00f3 del repositori. </p> <p>Si fem un cat per veure l'arxiu, podrem veure que cont\u00e9 el tipus de paquet, el link on descarregar-ho i la clau p\u00fablica. </p> <p>A l'haver afegit l'arxiu el podrem instal\u00b7lar com qualsevol altre repositori d'APT. </p>"},{"location":"sprint1/#compilar","title":"Compilar","text":"<p>Es pot compilar el codi sense necessitat d'un gestor de paquets, hi ha diferents maneres, per\u00f2 aquestes dues s\u00f3n les m\u00e9s utilitzades.</p>"},{"location":"sprint1/#targz","title":"tar.gz","text":"<p>Descarreguem un arxiu tar.gz i escrivim la comanda tar xvzf (arxiu). </p> <p>Dependentment de cada aplicaci\u00f3, l'arxiu d'instal\u00b7laci\u00f3 ser\u00e0 diferent, en aquest cas executem l'arxiu Discord. </p>"},{"location":"sprint1/#make-i-cmake","title":"make i cmake","text":"<p>Descarreguem o clonem la carpeta. </p> <p>Dintre de la carpeta, podrem veure un arxiu cmake.config, aquest arxiu indica com ha de compilar i instal\u00b7lar el programa a la comanda cmake. </p> <p>Instal\u00b7lem make i cmake, en aquest cas, neovim tamb\u00e9 necessita el paquet gettext per compilar. Com indica a la p\u00e0gina oficial de neovim, primer escriurem la comanda make (configuraci\u00f3 espec\u00edfica). En aquest cas, la configuraci\u00f3 espec\u00edfica \u00e9s opcional, ja que mostra que est\u00e0 fent la comanda make i poder entendre si hi ha algun error. </p> <p>Finalment, escrivim la comanda make install. </p>"},{"location":"sprint2/","title":"Sprint 2","text":""},{"location":"sprint2/#gestio-de-procesos","title":"Gesti\u00f3 de Procesos","text":""},{"location":"sprint2/#identificacio-de-procesos","title":"Identificaci\u00f3 de procesos","text":"<p>Per identificar procesos en temps real podem utilitzar la seg\u00fcent comanda:</p> <pre>\n<code>\n(sudo) top\n</code>\n</pre> <p></p> <p>Tamb\u00e9 es pot servir aquest altre:</p> <pre>\n<code>\n(sudo) htop\n</code>\n</pre> <p></p> <p>Tamb\u00e9 podem veure els procesos i els fills en forma de arbre, aquesta vegada no es en temps real amb la seg\u00fcent comanda:</p> <pre>\n<code>\n(sudo) pstree\n</code>\n</pre> <p>Utilitzant pstree, podem veure que alguns processos provenen d'altres, aquests processos es diuen procesos fills. </p>"},{"location":"sprint2/#filtratge","title":"Filtratge","text":"<p>Per filtrar els procesos amb pstree podem utilitzar -p -h i ajuntar amb grep.</p> <ul> <li>p s'utilitza per visualitzar el PID (Process ID) de cada proces.</li> <li>h subralla el proc\u00e9s que estem buscant.</li> </ul> <p></p>"},{"location":"sprint2/#matar-processos","title":"Matar processos","text":"<p>Per matar processos s'utilitza la seg\u00fcent comanda:</p> <pre>\n<code>\n(sudo) kill [PID]\n</code>\n</pre> <p>Aquesta comanda envia una petici\u00f3 per que el programa tanqui. A vegades pot no funcionar i s'hauria de for\u00e7ar amb la seg\u00fcent comanda:</p> <pre>\n<code>\n(sudo) kill -9 [PID]\n</code>\n</pre>"},{"location":"sprint2/#treballs","title":"Treballs","text":"<p>Quan un proces es pausa utilitzant ctrl + z, es posa en segon pla i es diu treball. Es pot canviar l'estat dels treballs amb les seguents comandes:</p> <pre>\n<code>\njobs //Llista els treballs \n</code>\n</pre> <p></p> <p>Al llistar, es mostra el numero del treball ([1]+), l'estat en que es troba (Aturat), i a quina comanda es refereix (top).</p> <pre>\n<code>\nfg %[number] //Continua el proces indicat amb el numero de treball.\n</code>\n</pre> <pre>\n<code>\nkill %[number] //Mata el proces indicat amb el numero de treball.\n</code>\n</pre>"},{"location":"sprint2/#gestio-dusuaris","title":"Gesti\u00f3 d'usuaris","text":""},{"location":"sprint2/#usuaris","title":"Usuaris","text":"<p>Un usuari es una identitat que representa a una persona dintre del sistema el qual t\u00e9 permisos i rols.  Dintre del sistema poden haber mes de un usuari, al treballar en sistemes monolloc no es poden connectar de forma simult\u00e0nea.  En cada sistema sempre hi haur\u00e0 un usuari amb tots els permisos possibles, root.</p>"},{"location":"sprint2/#grups","title":"Grups","text":"<p>Els grups s\u00f3n un conjunt de usuaris per a facilitar la gesti\u00f3 de forma col\u00b7lectiva.  Cada usuari es crea amb un grup amb el mateix nom que aquest i s'assigna com el principal.  Cada usuari t\u00e9 un grup principal, aquest es el grup per defecte que s'assigna com a grup amb permisos per elements creats per l'usuari.  El grup amb m\u00e9s permisos es el grup sudo, aquest grup pot invocar a root utilitzant la comanda sudo.</p>"},{"location":"sprint2/#gestio-grafica","title":"Gesti\u00f3 Gr\u00e0fica","text":"<p>La majoria de configuracions que utilitzariem el dia a dia es pot fer en interficie grafica instalant el seguent paquet.</p> <pre>\n<code>\n(sudo) apt install gnome-system-tools\n</code>\n</pre> <p>Busquem l'aplicacio de gestio d'usuaris. </p> <p>En aquest menu, podem gestionar els usuaris, en aquest cas, solament esta el usauri walid. </p> <p>Per crear un usuari nou, cliquem add en el menu i escribim el nom de l'usuari. </p> <p>Introduim una contrasenya. </p> <p>Finalment, podem veure l'usuari creat. </p>"},{"location":"sprint2/#fitxers-implicats","title":"Fitxers Implicats","text":"<p>Aquests, son els fitxers implicats en confirmar els nostres canvis, no es recomana en cap cas modificar els arxius.   Tots els fitxers estan dintre de la carpeta /etc.</p>"},{"location":"sprint2/#passwd","title":"passwd","text":"<p>Es guarda la informacio publica de cada usuari del sistema.  Cada linea indica un usuari, la informacio esta separada per un signe de doble puntuacio (:). </p> <p>Cada apartat (que esta separat per :) representa el seguent.</p> <p></p> <pre>\n<code>\nusuari:contrasenya:UID:GID:gecos:directori_home:shell\n</code>\n</pre> <ul> <li>Usuari: indica el nom de l'usuari.</li> <li>Contrasenya: indica amb un * o X si la contrasenya esta guardada en format hash a l'arxiu shadow, si no hi ha res, indica que no hi ha contrasenya.</li> <li>UID: ID de l'usuari dintre del sistema.</li> <li>GID: ID del grup principal de l'usuari.</li> <li>Gecos: es mostra la informacio addicional de l'usuari (nom complet, numero telefon, etc).</li> <li>Directori_home: indica la ruta completa on s'allotja el directori principal de l'usuari.</li> <li>Shell: indica l'interpretador shell utilitzat per l'usauri.</li> </ul> <p></p>"},{"location":"sprint2/#group","title":"group","text":"<p>Es guarda la informacio sobre els grups del sistema. </p> <p>Cada apartat (que esta separat per :) representa el seguent.</p> <p></p> <pre>\n<code>\ngrup:contrasenya:GID:usuaris\n</code>\n</pre> <ul> <li>Grup: indica el nom del grup.</li> <li>Contrasenya: indica si el grup te contrasenya contenent una X, si aquest no esta, significa que no hi ha contrasenya.</li> <li>Usuaris: mostra els usuaris dintre del grup.</li> </ul> <p></p>"},{"location":"sprint2/#shadow","title":"shadow","text":"<p>Es guarda la informacio relacionada amb la seguretat de cada usuari.   Es mes segur que passwd al solament poder accedir amb privilegis de root.</p> <p>Cada apartat (que esta separat per :) representa el seguent.</p> <p></p> <pre>\n<code>\nusuari:contrasenya:ultim_canvi:dies_minims:dies_maxims:dies_avis:dies_inactivitat:data_expiracio\n</code>\n</pre> <ul> <li>Usuari: indica el nom de l'usuari</li> <li>Contrasenya: mostra la contrasenya en format hash. Si es mostra un ! significa que l'usuari esta bloquejat i no pot accedir. Si es mostra un * significa que l'usuari esta desabilitat o no te contrasenya.</li> <li>Ultim_canvi: mostra la data del ultim canvi de contrasenya realitzat.</li> <li>Dies_minims: dies minims que han de passar abans de poder canviar la contrasenya.</li> <li>Dies_maxims: dies maxims el qual una contrasenya es valida fins que s'ha de canviar.</li> <li>Dies_avis: dies abans de l'expiracio de la contrasenya el qual s'avisa a l'usuari.</li> <li>Dies_inactivitat: dies marge amb la contrasenya expirada abans de bloquejar l'usuari.</li> </ul> <p></p>"},{"location":"sprint2/#gshadow","title":"gshadow.","text":"<p>Es guarda la informacio relacionada amb la seguretat de cada grup.   Es mes segur que group al solament poder accedir amb privilegis de root.</p> <p>Cada apartat (que esta separat per :) representa el seguent.</p> <p></p> <pre>\n<code>\ngrup:contrasenya:administradors:usuaris\n</code>\n</pre> <ul> <li>Grup: indica el nom del grup</li> <li>Contrasenya: mostra la contrasenya en format hash. Si es mostra un ! significa que el grup esta bloquejat i no pot accedir. Si es mostra un * significa que el grup no te contrasenya.</li> <li>Administradors: llista d'usuaris administradors del grup separat per comes.</li> <li>Usuaris: llista d'usuaris del grup separat per comes.</li> </ul>"},{"location":"sprint2/#afegir-un-usuari","title":"Afegir un usuari","text":"<p>Per afegir un usuari escrivim la seg\u00fcent comanda i introduim la contrasenya i l'informaci\u00f3 addicional. Aquesta comanda, et guia i crea els parametres per defecte per crear un usuari.</p> <pre>\n<code>\n(sudo) adduser [usuari]\n</code>\n</pre> <p></p> <p>Al utilitzar la comanda id, podem veure que el usuari s'ha creat amb el seu user id juntament amb el seu propi grup principal i el seu group id.</p> <p></p> <p></p> <p>Una altra forma, sense cap tipus de guia i parametres creats seria:</p> <pre>\n<code>\n(sudo) useradd [usuari]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#configurar-usuari-desde-0","title":"Configurar usuari desde 0","text":"<p>Per configurar un usuari desde 0, escribim la seguent comanda:</p> <pre>\n<code>\n(sudo) useradd [usuari]\n</code>\n</pre> <p></p> <p>Establim la contrasenya amb la seguent comanda:</p> <pre>\n<code>\n(sudo) passwd [usuari]\n</code>\n</pre> <p></p> <p>Establim el shell del usuari amb la seguent comanda:</p> <pre>\n<code>\n(sudo) usermod -s [shell] [usuari]\n</code>\n</pre> <p></p> <p>Per a establir la carpeta home, primer la creem i posem com a propietari el usuari i el seu grup principal, seguidament escribim aquesta comanda:</p> <pre>\n<code>\n(sudo) usermod -d [ruta absoluta de la carpeta home] [usuari]\n</code>\n</pre> <p></p> <p>Si estem en Ubuntu Desktop, la millor manera per comprovar si hem configurat de forma correcta al usuari es entrant amb l'interficie grafica.</p> <p></p>"},{"location":"sprint2/#modificar-contrasenya","title":"Modificar contrasenya","text":"<p>Per modificar la contrasenya, podem utilitzar la seg\u00fcent comanda</p> <pre>\n<code>\n(sudo) passwd [usuari]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#modificar-nom","title":"Modificar nom","text":"<p>Per modificar el nom d'un usuari, escrivim la seguent comanda:</p> <pre>\n<code>\n(sudo) usermod -l [nou nom d'usuari] [usuari]\n</code>\n</pre> <p></p> <p>Mirant l'arxiu /etc/passwd, podem comprovar que l'usuari ha canviat de nom, pero no els altres parametres.</p> <p></p>"},{"location":"sprint2/#borrar-usuari","title":"Borrar usuari","text":"<p>Per esborrar un usuari, podem utilitzar la seg\u00fcent comanda. Aquesta comanda solament borra el usuari, per\u00f2 no els directoris i altres parametres d'aquest.</p> <pre>\n<code>\n(sudo) deluser [usuari]\n</code>\n</pre> <p></p> <p>Per borrar el directori i altres parametres del usuari, utilitzem la seg\u00fcent comanda.</p> <pre>\n<code>\n(sudo) deluser -r [usuari]\n</code>\n</pre> <p></p> <p>Com l'usuari no tenia una carpeta de mail, no el pot borrar.</p>"},{"location":"sprint2/#bloquejar-usuari","title":"Bloquejar usuari","text":"<p>Per a bloquejar un usuari, escrivim la seguent comanda:</p> <pre>\n<code>\n(sudo) usermod -L [usuari]\n</code>\n</pre> <p></p> <p>Podem veure que l'usuari esta bloquejat al no surtir en la llista d'usuaris per iniciar sessio.</p> <p></p> <p>Tampos ens deixara connectar-nos amb su.</p> <p></p>"},{"location":"sprint2/#desbloquejar-usuari","title":"Desbloquejar usuari","text":"<p>Per desbloquejar un usuari, escrivim la seguent comanda:</p> <pre>\n<code>\n(sudo) usermod -U [usuari]\n</code>\n</pre> <p></p> <p>Al desbloquejar l'usuari, podem veure que ja podem connectar-nos per su.</p> <p></p> <p>I tambe per interficie grafica.</p> <p></p>"},{"location":"sprint2/#politica-de-caducitat","title":"Politica de caducitat","text":"<p>Per a establir o modificar politiques de caducitat de cada usuari, utilitzarem la seguent comanda:</p> <pre>\n<code>\n(sudo) chage [opcions] [usuari]\n</code>\n</pre>"},{"location":"sprint2/#interactiu","title":"Interactiu","text":"<p>Podem configurar la politica de caducitat de forma interactiva amb la seguent comanda:</p> <pre>\n<code>\n(sudo) chage [usuari]\n</code>\n</pre> <p></p> <ul> <li>Minimum Password Age: dies minims que han de passar abans de canviar de contrasenya.</li> <li>Maxim Password Age: dies maxims que poden passar sense canviar la contrasenya.</li> <li>Last Password Change: Ultima vegada que es va canviar la contrasenya del usuari.</li> <li>Password Expiration Warning: dies abans de l'expiracio de la contrasenya el qual s'avisa a l'usuari.</li> <li>Password Inactive: dies que l'usuari encara pot entrar al compte amb la contrasenya caducada. -1 significa que no hi ha marge.</li> <li>Account Expiration Date: data de caducitat del compte.</li> </ul>"},{"location":"sprint2/#carpetes-de-configuracio-dusuari","title":"Carpetes de configuracio d'usuari","text":""},{"location":"sprint2/#skel","title":"skel","text":"<p>Aquesta carpeta esta ubicada en /etc/skel/, el contingut dintre de la carpeta sera copiat dintre de la carpeta home de cada usuari del sistema. Qualsevol canvi, s'aplicara a cada usuari nou creat despres del canvi.</p> <p></p>"},{"location":"sprint2/#profile","title":".profile","text":"<p>Aquest arxiu es un script que s'ubica tant a /etc/skel/ com a totes les carpetes home dels usuaris. Serveix per a configurar les variables de l'entorn de l'usuari al iniciar sessio.</p> <p></p>"},{"location":"sprint2/#bashrc","title":".bashrc","text":"<p>Aquest arxiu es un script que s'ubica tant a /etc/skel/ com a totes les carpetes home dels usuaris. Serveix per a configurar cada terminal oberta per l'usuari.</p> <p></p> <p>Com l'arxiu es bastant extes, la imatge sol mostra una petita configuracio de alias.</p>"},{"location":"sprint2/#bash_logout","title":".bash_logout","text":"<p>Aquest arxiu es un script que s'ubica tant a /etc/skel/ com a totes les carpetes home dels usuaris. Aquest script s'executa quan un usuari tanca sessio.</p> <p></p>"},{"location":"sprint2/#logindefs","title":"login.defs","text":"<p>Aquest arxiu s'ubica en /etc/login.defs. Serveix per a configurar les configuracions i politiques per defecte dels usuaris.</p>"},{"location":"sprint2/#adduserconf","title":"adduser.conf","text":"<p>Aquest arxiu s'ubica en /etc/adduser.conf. Serveix per a configurar les configuracions al crear usuaris amb adduser i grups amb addgroup.</p>"},{"location":"sprint2/#crear-grups","title":"Crear grups","text":"<p>Per a crear un grup utilitzarem la seguent comanda:</p> <pre>\n<code>\n(sudo) addgroup [grup]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#afegir-usuaris-a-un-grup","title":"Afegir usuaris a un grup","text":"<p>Hi han tres metodes per afegir un usuari a un grup:</p>"},{"location":"sprint2/#gpasswd","title":"GPASSWD","text":"<p>Podem utilitzar la comanda gpasswd:</p> <pre>\n<code>\n(sudo) gpasswd -a [user] [group]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#adduser","title":"ADDUSER","text":"<p>Podem utilitzar la comanda adduser:</p> <pre>\n<code>\n(sudo) adduser [user] [group]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#usermod","title":"USERMOD","text":"<p>Podem utilitzar la comanda usermod:</p> <pre>\n<code>\n(sudo) usermod -a -G [group] [user]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#eliminar-usuari-dun-grup","title":"Eliminar usuari d'un grup","text":"<p>Per a eliminar un usuari de un grup utilitzem la seguent comanda, s'ha de tenir delicadesa ja que si no posem el grup, l'usuari sera eliminat:</p> <pre>\n<code>\n(sudo) deluser [user] [group]\n</code>\n</pre> <p></p> <p>Una altra forma es amb la comanda seguent:</p> <pre>\n<code>\n(sudo) gpasswd -d [user] [group]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#canviar-el-nom-dun-grup","title":"Canviar el nom d'un grup","text":"<p>Per canviar el nom del grup, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) groupmod -n [nouNom] [grup]\n</code>\n</pre> <p></p> <p></p>"},{"location":"sprint2/#assignar-administrador-de-un-grup","title":"Assignar administrador de un grup","text":"<p>Per posar un usuari com a administrador de un grup, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) gpasswd -A [user] [group]\n</code>\n</pre> <p></p> <p></p>"},{"location":"sprint2/#modificar-grup-principal-dun-usuari","title":"Modificar grup principal d'un usuari","text":"<p>Per posar un nou grup com a principal a un usuari, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) usermod -g [group] [user]\n</code>\n</pre> <p></p> <p></p>"},{"location":"sprint2/#assignar-contrasenya-a-un-grup","title":"Assignar contrasenya a un grup","text":"<p>Per assignar una contrasenya a un grup, escrivim la seguent comanda:</p> <pre>\n<code>\n(sudo) gpasswd [group]\n</code>\n</pre> <p></p> <p></p>"},{"location":"sprint2/#esborrar-contrasenya-de-un-grup","title":"Esborrar contrasenya de un grup","text":"<p>Per esborrar la contrasenya de un grup, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) gpasswd -r [group]\n</code>\n</pre> <p></p> <p></p>"},{"location":"sprint2/#gestio-de-permisos","title":"Gesti\u00f3 de permisos","text":"<p>Cada carpeta i fitxer en Linux tenen una serie de permisos. Aquests es separen amb permisos normals, umask, especials i ACLs.  Juntament amb els permisos, estant els propietaris del fitxer o carpeta en questio. Els propietaris son tant un usuari com un grup.</p> <pre>\n<code>\n(comanda) -R\n</code>\n</pre> <p>En totes les comandes seguents, es pot afegir el \"-R\" per fer-la recursiva, es a dir, que els permisos es pasen als fitxers i carpetes conte la propia carpeta.  Per a posar un usuari i un grup com a propietari, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) chown [user]:[group] [fitxer/carpeta]\n</code>\n</pre> <p></p> <p></p> <p>  Si es vol canviar solament el grup propietari, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) chgrp [group] [fitxer/carpeta]\n</code>\n</pre> <p></p> <p></p> <p></p>"},{"location":"sprint2/#permisos-base","title":"Permisos base","text":"<p>Els permisos es tracten en tres grups separats. Usuari propietari, grup propietari i altres. Per a cada un, es donen 3 permisos diferents:</p> <ul> <li>R: en ingles read, dona permisos de lectura.</li> <li>W: en ingles write, dona permisos d'escritura, en el cas de carpetes, modificacio.</li> <li>X: en ingles execute, dona permisos d'execucio.</li> </ul> <p>Per a modificar els permisos, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) chmod [permisos] [fitxer/carpeta]\n</code>\n</pre> <p>Els permisos es poden donar de diferentes maneres:</p> <p></p> <p>Tamb\u00e9 es pot en forma de simbols:  Primer s'escriu a quin tipus d'usuari aplica:</p> <ul> <li>u: usuri</li> <li>g: grup</li> <li>o: altres</li> </ul> <p>S'escriu si afegim, subtreure o copiar els permisos que pasarem:</p> <ul> <li>+: afegir</li> <li>-: substreure</li> <li>=: copiar exactament com es mostra</li> </ul> <p>Finalment, es posa el tipus de permis:</p> <ul> <li>r: llegir</li> <li>w: escriure</li> <li>x: executar</li> </ul> <pre>\n<code>\n(sudo) chmod [permisos] [fitxer/carpeta]\n</code>\n</pre> <p>Exemple en octal:</p> <p></p> <p></p> <p></p> <p>Exemple en simbols:</p> <p></p> <p></p>"},{"location":"sprint2/#umask","title":"Umask","text":"<p>El umask (user mask) controla els permisos predefinits que s'asignaran a archius i carpetes noves.  S'aconsegueix restan el umask amb els permisos donats en base octal, per exemple:  umask -&gt; 077  Permisos donats -&gt; 777  Si restem el umask amb els permisos donats -&gt; 777 - 077 = 700  Per tant els permisos que tindra finalment l'arxiu seran 700. </p> <p>La comanda es la seg\u00fcent:</p> <pre>\n<code>\n(sudo) umask [permisos per defecte]\n</code>\n</pre> <p>Warning</p> <p>L'efecte del umask dura tota la sessi\u00f3 de la terminal activa on s'ha realitzat la comanda. Per fer permanent la comanda, s'hauria d'incloure al .bashrc</p> <p></p>"},{"location":"sprint2/#permisos-especials","title":"Permisos especials","text":"<p>Els permisos especials en Linux, son permisos addicionals que es poden afegir als fitxers i carpetes del sistema segons les necessitats d'aquestes.</p>"},{"location":"sprint2/#sticky","title":"Sticky","text":"<p>En un directori, permet que solament el propietari del arxiu, o root, pugui modificar-ho.  S'utilitza comunment en la comparticio de carpetes.  En el camp de permisos, es mostra amb una t al final.</p> <pre>\n<code>\ndrwxrwxrwT\n</code>\n</pre> <p>Per a aplicar-ho en un directori, s'utilitza la seguent comanda:</p> <pre>\n<code>\n(sudo) chmod +t [directori]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#suid","title":"SUID","text":"<p>Permet a un usuari tindre els permisos del usuari propietari durant la execucio del fitxer. </p> <p>En el camp de permisos, es mostra amb una s en menys de una x a l'usuari propietari.</p> <pre>\n<code>\n-rwsr-xr-x\n</code>\n</pre> <p>Per a aplicar-ho en un arxiu, s'utilitza la seguent comanda:</p> <pre>\n<code>\n(sudo) chmod u+s [fitxer]\n</code>\n</pre>"},{"location":"sprint2/#exemple","title":"Exemple","text":"<p>L'arxiu executable, mostra el contingut de la carpeta /root, aquest contingut no es podra mostrar si no ets root.</p> <p></p> <p>Incloem al executable el permis especial suid i executem l'arxiu.</p> <p></p> <p></p>"},{"location":"sprint2/#sgid","title":"SGID","text":"<p>Permet a un usuari, executar els arxius com a membre del grup propietari de l'arxiu de forma temporal.  Tambe pot crear carpetes o arxius dintre si es una directori, en aquest cas, heredaran el grup pare del usuari que ha creat l'arxiu o directori. </p> <p>En el camp de permisos, es mostra amb una s en menys de una x al grup propietat.</p> <pre>\n<code>\n-rwxr-sr-x\n</code>\n</pre> <p>Per a aplicar-ho en un arxiu o directori, s'utilitza la seguent comanda:</p> <pre>\n<code>\n(sudo) chmod g+s [fitxer/directori]\n</code>\n</pre>"},{"location":"sprint2/#acls","title":"ACLs","text":"<p>Les ACLs (Llistes de control d'acc\u00e9s), s\u00f3n una extensio del sistema de permisos base del sistema en Linux. Aquests permisos, sol apliquen al usuari o grup seleccionat, el qual pot no ser el usuari o grup propietari. </p>"},{"location":"sprint2/#informacio-de-un-arxiu-directori","title":"Informaci\u00f3 de un arxiu / directori","text":"<p>Per a visualitzar els permisos incloent els ACLs, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) getfacl [fitxer/directori]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#definir-permisos","title":"Definir permisos","text":"<p>Per a definir permisos, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) setfacl -m [usuari/grup]:[nom usuari/grup]:[permisos] [fitxer/directori]\n</code>\n</pre> Note <p>Per a establir si es un usuari o grup, ho fem de la seguent forma:</p> <ul> <li>u: usuari</li> <li>g: grup </li> </ul> <p></p> <p> </p> <p>Tambe es pot definir permisos ACLs que s'hereden dintre de una carpeta. Per fer-ho, s'utilitza la seguent comanda:</p> <pre>\n<code>\n(sudo) setfacl -m d:[usuari/grup]:[nom usuari/grup]:[permisos] [fitxer/directori]\n</code>\n</pre> <p></p> <p></p>"},{"location":"sprint2/#eliminar-permisos","title":"Eliminar permisos","text":"<p>Per eliminar permisos d'un usuari o grup en concret, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) setfacl -x [usuari/grup]:[nom usuari/grup] [fitxer/directori]\n</code>\n</pre> <p> </p> <p>Tambe es pot eliminar totes les ACLs establertes amb la seguent comanda:</p> <pre>\n<code>\n(sudo) setfacl -b [fitxer/directori]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#sistemes-de-fitxers-i-particions","title":"Sistemes de fitxers i particions","text":""},{"location":"sprint2/#estructura-de-la-informacio","title":"Estructura de la informaci\u00f3","text":""},{"location":"sprint2/#sectors","title":"Sectors","text":"<ul> <li>Els sectors son la unitat minima f\u00edsica del disc.</li> <li>Dintre de cada sector s'emmagatzema l'informacio,  si la informacio ocupa mes que el sector, aquest es parteix i distrbueix entre diferents sectors.</li> <li>Aquest es de 512 bytes de mida i no es pot modificar de cap manera.</li> </ul>"},{"location":"sprint2/#blocs","title":"Blocs","text":"<ul> <li>Els blocs son la unitat minima logica dintre de una particio de un disc en un sistema operatiu.</li> <li>Cada bloc esta fet per sectors de la unitat fisica.</li> <li>La informacio es guarda en cada bloc, si aquest ocupa mes que el bloc, es redistribueix entre els blocs lliures. Si ocupa menys, es deixa un espai el qual no es pot assignar a cap arxiu.</li> <li>Per a cada arxiu o carpeta hi ha un \"index\" el qual apunta a la direccio de bloc on es localitza, aquest \"index\" es gestionat per el sistema de arxius. </li> <li>Usualment son de 4096 bytes pero es pot canviar segons les necessitats de la particio.</li> </ul>"},{"location":"sprint2/#fragmentacio-interna","title":"Fragmentaci\u00f3 interna","text":"<ul> <li>La fragmentaci\u00f3 interna ocurreix quan la informaci\u00f3 no completa el espai del bloc, deixant aixi un espai el qual no es pot ocupar.</li> <li>A petita escala no es ningun problema greu, a gran escala es pot perdre espai el qual es podria aprofitar per assignar mes informacio.</li> <li>Es pot arreglar canviant la mida del bloc a una mida mes ajustada, d'aquesta manera l'espai que es perd es inferior.</li> </ul>"},{"location":"sprint2/#fragmentacio-externa","title":"Fragmentaci\u00f3 externa","text":"<ul> <li>La fragmentacio externa ocurreix quan la informacio esta fragmentada entre diferents blocs del sistema.</li> <li>La informacio al estar distribuida de forma no lineal en el disc, es mes dificil i es tarda mes poder utilitzar-lo de qualsevol forma, ja que s'hauria de observar els apuntadors de cada part de l'arxiu.</li> <li>Es pot arreglar formatejant el disc o utilitzant un defragmentador. En Windows esta de forma nativa, en Linux s'hauria d'instalar.</li> </ul>"},{"location":"sprint2/#tipus-de-formateig","title":"Tipus de formateig","text":""},{"location":"sprint2/#apuntadors","title":"Apuntadors","text":"<p>Com mencionat anteriorment, la informacio esta situada en blocs, els quals esta controlat pel sistema operatiu. En cada bloc (o mes d'un) conte un arxiu, carpeta, etc.  Per a poder trobar cada arxiu o carpeta, el sistema utilitza un \"index\" el qual apunta a cada arxiu o carpeta. Si el bloc no es indicat en algun apuntador, el sistema simplement l'utilitzara com a buit, cosa que pot no ser cert.</p>"},{"location":"sprint2/#alt-nivell","title":"Alt nivell","text":"<p>Solament borra el sistema d'apuntadors, pero no borra els fitxers on s'apunta.  Bastant agil al no borrar els arxius, cosa que pot tardar bastant de temps.</p>"},{"location":"sprint2/#normal","title":"Normal","text":"<p>Tambe borra el sistema d'apuntadors. Si hi ha algun sector defectuos el marca i no guardara res en aquell sector.  Mes lent que el de alt nivell al marcar sectors defectuosos. Per aquest motiu, es mes segur al guardar informacio despres del formateig.</p>"},{"location":"sprint2/#baix-nivell","title":"Baix nivell","text":"<p>Borra el sistema d'apuntadors, la informacio dintre de cada sector i intenta arreglar els sectors defectuosos.  Actualment no esta inclos en cap SO, s'ha defectuar amb programes especialitzats.  El mes lent al tenir que borrar completament tot.</p>"},{"location":"sprint2/#sistemes-de-fitxers","title":"Sistemes de fitxers","text":""},{"location":"sprint2/#teoria","title":"Teoria","text":"<p>Un sistema de fitxers es una  forma de gestionar i organitzar l'emmagatzemament.  Hi han molts sistemes de fitxers diferents, en aquest cas solament veurem ext4 (Linux) i ntfs (Windows).</p>"},{"location":"sprint2/#ext4","title":"EXT4","text":"<ul> <li>Es el sistema de fitxers que normalment treballa Linux.</li> <li>Soporta fitxers de fins 16 TB.</li> <li>Es eficient amb els arxius petits.</li> <li>Incloeix un registre el qual protegeix les dades en cas d'apagar-se de forma repentina.</li> </ul>"},{"location":"sprint2/#ntfs","title":"NTFS","text":"<ul> <li>Es el sistemde fitxers que normalment treballa Windows.</li> <li>Soporta fitxers de fins 16 TB.</li> <li>Incloeix xifrat i compressio de fitxers i carpetes.</li> <li>Es compatible amb Linux pero, pot donar diversos problemes.</li> </ul>"},{"location":"sprint2/#particions","title":"Particions","text":""},{"location":"sprint2/#llistar-particions","title":"Llistar particions","text":"<p>Per llistar els discs del sistema, utiltizem la seguent comanda:</p> <pre>\n<code>\n(sudo) fdisk -l\n</code>\n</pre> <p></p> <ul> <li>Disk model: mostra el model del disc</li> <li>Units: defineix com es mesura la capacitat del disc, en aquest cas en sectors.</li> <li>Sector Size: indica el tamany del sector</li> <li>I/O size: indica el tamany optim per a operacions d'entrada i sortida.</li> <li>Disklabel Type: tipus de taula de particions</li> <li>Disk Identifier: identificador unic del disc.</li> </ul>"},{"location":"sprint2/#particionar-disc","title":"Particionar disc","text":"<p>Per particionar el disc, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) fdisk [disc]\n</code>\n</pre> <p></p> <p>Per comen\u00e7ar una nova partici\u00f3, escrivim n (new).</p> <p>Seguidament, podem escollir el tipus de partici\u00f3.</p> <p>A continuaci\u00f3, podem seleccionar el primer sector de la partici\u00f3, per defecte es 2048, ja que del 0 al 2047 es posiciona la taula de particions.</p> <p>Indiquem el final de la particio, per defecte es tot el restant del disc. En aquest cas, solament agafarem la meitat.</p> <p>Si llistem els discs i particions, podrem observar que s'ha creat sastisfactoriament:</p> <p></p>"},{"location":"sprint2/#afegir-sistema-de-fitxers","title":"Afegir sistema de fitxers","text":""},{"location":"sprint2/#ext4_1","title":"EXT4","text":"<p>Per afegir el sistema de fitxers ext4, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) mkfs.ext4 [particio]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#ntfs_1","title":"NTFS","text":"<p>Per afegir el sistema de fitxers ntfs, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) mkfs.ntfs [particio]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#mides-de-bloc","title":"Mides de bloc","text":"<p>Es pot canviar la mida del bloc a l'afegir el sistema de fitxers, es pot modificar utilitzant la seguent comanda:</p> <pre>\n<code>\n(sudo) mkfs.ext4 -b [mida de bloc en bytes] [particio]\n</code>\n</pre> <p></p> <p>En ntfs, la comanda canvia al seguent:</p> <pre>\n<code>\n(sudo) mkfs.ntfs -c [mida de bloc en bytes] [particio]\n</code>\n</pre> <p></p> <p>Note</p> <p>La mida del bloc ha de ser una potencia de 2, per exemple 2048, 8192, etc. Com mostrat en la imatge, alguns sistemes de fitxers poden no soportar certes mides de bloc.</p> <p>Per verificar que la mida de bloc ha estat correctament aplicat, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) tune2fs -l [particio] | grep Block\n</code>\n</pre> <p></p>"},{"location":"sprint2/#montatge","title":"Montatge","text":"<p>Per a montar de forma provisional una particio necessitem una carpeta accessible dintre del sistema.  S'ha de tenir en compte que al montar sobre un directori, la informacio que habia en la carpeta no esta borrada, el directori solament apunta a la particio. Tampoc es borra la informacio dintre de la partico al desmontar-ho.</p>"},{"location":"sprint2/#provisional","title":"Provisional","text":"<p>Per a montar de forma provisional una particio, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) mount -t ext4 [particio] [carpeta]\n</code>\n</pre> <p></p> <p>Warning</p> <p>Al ser un montatge provisional, al reiniciar l'equip aquest es desmonta automaticament.</p>"},{"location":"sprint2/#desmontar","title":"Desmontar","text":"<p>Per a desmontar una particio utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) umount [particio]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#permanent","title":"Permanent","text":"<p>Si volem fer un montatge permanent (es torna a muntar automaticament al iniciar l'equip), haurem de modificar l'arxiu /etc/fstab amb la seguent linea:</p> <pre>\n<code>\n[particio] [carpeta] [sistema de fitxers] [permisos de particio] [dump] [comprovacio]\n</code>\n</pre> <ul> <li>Dump: activa (1) o desactiva (0) el process dump. Aquest proces es una copia de seguretat del sistema de fitxers. Habitualment es deixa en 0</li> <li>Comprovacio: comprova l'estat del sistema de fitxers. Pot no comprovar (0), comprovar al iniciar el sistema (1) o comprovar despres (2).</li> </ul> <p></p>"},{"location":"sprint2/#comparticio-de-una-particio","title":"Compartici\u00f3 de una partici\u00f3","text":"<p>Per a compartir una carpeta, utilitzarem el servei samba, el qual segueix un protocol servidor client.</p>"},{"location":"sprint2/#servidor","title":"Servidor","text":"<p>Primer instalarem el servei amb la seguent comanda:</p> <pre>\n<code>\n(sudo) apt install samba\n</code>\n</pre>"},{"location":"sprint2/#configuracio-de-fitxers","title":"Configuracio de fitxers","text":"<p>Seguidament, modificarem el fitxer /etc/samba/smb.conf afegint les seguent linees:</p> <pre>\n<code>\n[nom particio]\npath = (directori que es vol compartir)\nbrowseable = (yes | no)\nread only = (yes | no)\nwriteable = (yes | no)\nguest ok = (yes | no)\nread list = (usuari)\nwrite list = (usuari, @grup)\ncreate mask = (mascara de permisos)\ndirectory mask = (mascara de permisos)\n</code>\n</pre> <p>Exemple:</p> <p></p> <p>Note</p> <p>El usuari, en aquest cas gina, es un usuari ja establert en el sistema operatiu.</p> <p>A continuaci\u00f3, comprovem que hem escrit correctament la configuracio reiniciant el servei amb la seguent comanda:</p> <pre>\n<code>\n(sudo) systemct restart smbd nmbd\n</code>\n</pre> <p>I comprovem que el servei funcioni de forma correcta:</p> <pre>\n<code>\n(sudo) systemct status smbd\n</code>\n</pre> <p></p>"},{"location":"sprint2/#afegir-usuaris-a-samba","title":"Afegir usuaris a samba","text":"<p>Primer, afegim l'usuari del sistema que es vol afegir tambe a samba al grup sambashare. Per a aixo, podem utilitzar la seguent comanda:</p> <pre>\n<code>\n(sudo) gpasswd [usuari] sambashare\n</code>\n</pre> <p>A continuacio, afegim l'usuari a samba amb la seguent comanda:</p> <pre>\n<code>\n(sudo) smbpasswd -a [usuari]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#comparticio-de-la-carpeta","title":"Comparticio de la carpeta","text":"<p>Per a compartir la carpeta, s'ha de tenir en compte els permisos de la propia carpeta i on esta localitzada.  Seguidament canviarem els permisos de la carpeta i l'usuari i grup propietari a nobody nogroup, d'aquesta manera no poden succeir errors per culpa de permisos incompatibles entre el sistema i el servei samba.</p> <p></p>"},{"location":"sprint2/#client","title":"Client","text":"<p>Primer, instalarem el client de samba amb la seguent comanda:</p> <pre>\n<code>\n(sudo) apt install smbclient\n</code>\n</pre>"},{"location":"sprint2/#comprovacions","title":"Comprovacions","text":"<p>Per a comprovar que l'equip pot connectar-se al servidor samba, utilitzem la seguent comanda:</p> <pre>\n<code>\nsmbclient -L //[ip] -U [usuari]\n</code>\n</pre> <p></p> <p>En aquest cas, podrem connectar-nos ja que mostra les coses compartides pel servidor, entre elles la carpeta.</p>"},{"location":"sprint2/#connexio","title":"Connexio","text":"<p>Una forma de connectar-se, es mitjansant el buscador de fitxers.  En el buscador de fitxers d'Ubuntu, podem dirigir-nos a altres ubicacions i en la part inferior afegir la ubicacio de la carpeta.</p> <p></p> <p>Ens demanara les credencials.</p> <p></p> <p></p>"},{"location":"sprint2/#copies-de-seguretat","title":"Copies de seguretat","text":""},{"location":"sprint2/#conceptes-teorics","title":"Conceptes teorics","text":"<p>En qualsevol sistema es preferible tenir copies de seguretat per a qualsevol cas.  Juntament amb les copies de seguretat, s'ha de tenir una bona politica de les copies de seguretat.  Es recomana, com a la millor politica de copies de seguretat, tenir les copies en un altre edifici i en una caixa innifuga.</p>"},{"location":"sprint2/#completes","title":"Completes","text":"<ul> <li>Es fa una copia completa.</li> <li>Es pesat</li> <li>Tarda molt</li> <li>Al revertir fins la copia de seguretat, es facil.</li> <li>Nomes es necessita la ultima copia.</li> </ul>"},{"location":"sprint2/#diferencials","title":"Diferencials","text":"<ul> <li>Es fa una copia completa cada cert temps, despres es fa una copia solament guardant els canvis fins la ultima copia completa.</li> <li>No es tant pesat com les completes</li> <li>Tarda molt al tindre que cargar la completa i la diferencial</li> <li>Es necessita la ultima copia completa i diferencial per a poder revertir.</li> </ul>"},{"location":"sprint2/#incrementals","title":"Incrementals","text":"<ul> <li>Es fa una copia completa cada cert temps, despres es fa una copia solament guardant els canvis de la ultima copia, sent la ultima una altra incremental o completa.</li> <li>No es tant pesat com les completes</li> <li>Es necessita la ultima copia completa i cadascuna de les copies incrementals que s'han fet despres.</li> </ul>"},{"location":"sprint2/#programes-amb-interficie-grafica","title":"Programes amb interficie grafica","text":""},{"location":"sprint2/#deja-dup","title":"Deja Dup","text":"<p>Per instalar Deja Dup, podem fer-ho en el App Center de Ubuntu.</p> <p></p> <p>A l'instalar-lo per primera vegada ens demanara crear una copia de seguretat. </p> <p>En el menu que es desplegara, podem escollir la carpeta que es fara copia, per defecte es la carpeta home del usuari. </p> <p>Abaix, podem escollir quines carpetes ha d'ignorar la copia, per defecte es la carpeta brosa i descargues. </p> <p>Seguidament, escollim en quina carpeta es guardaran les copies.</p> <p></p> <p>Es pot aplicar contrasenyes i encriptar les copies de seguretat.</p> <p></p> <p>A continuacio, es realitzara la copia de seguertat.</p> <p></p> <p>Despres, ens mostrara el menu principal on, podrem activar les copies automatiques i saber quan ha sigut la ultima copia.</p> <p></p> <p>En la part superior, podem pasar a la seccio restore, on podrem restaurar les copies de seguretat segons les copies realitzades. Es mostra en la part inferior esquerra el dia de la copia.</p> <p></p> <p>En la part superior dretam podem escollir les configuracions de les copies.</p> <p></p> <p>En les configuracions generals, podem escollir la carpeta on es localitzen les copies, quan es fan les copies automatiques i quan duren guardades les copies.</p> <p></p> <p>En les configuracions de  les carpetes podem escollir les carpetes que es fan copia i les que ignora. </p>"},{"location":"sprint2/#comandes","title":"Comandes","text":""},{"location":"sprint2/#cp","title":"CP","text":"<p>Aquesta comanda copia el contingut de un arxiu o carpeta a una altra de forma local.  Solament copia contingut pero no fa canvis dintre de la carpeta desti, es a dir, si s'ha esborrat un arxiu i es fa una altra copia, dintrem dos copies dintre de la carpeta desti.</p> <pre>\n<code>\n(sudo) cp [opcions] [origen] [desti]\n</code>\n</pre> <ul> <li>Opcions: podem posar diferents opcions segons les nostres necessitats. La mes habitual es -R per a copiar el contingut dintre de una carpeta i els seus fills.</li> </ul> <p></p>"},{"location":"sprint2/#rsync","title":"RSYNC","text":"<p>Aquesta comanda copia el contingut de un arxiu o carpeta a una altra, tant de forma local com remota.  Pot solament copiar les modificacions empleats en la carpeta de origen en vers a la carpeta desti</p> <pre>\n<code>\n(sudo) rsync [opcions] [origen] [desti]\n</code>\n</pre> <p>Les diferentes opcions mes populars son:</p> <ul> <li>a: permet que es transpasi de forma segura links simbolics, permisos, dates de modificacio, etc.</li> <li>v: mostra en detall el proces de traspas de les dades.</li> <li>delete: qualsevol carpeta o fitxer que no es mostri en la carpeta de origen s'elimini en la carpeta de desti.</li> </ul> <p></p>"},{"location":"sprint2/#dd","title":"DD","text":"<p>Copia les dades entre dos particions. Es recomana que les dos particions tinguin el mateix emmagatzemament.</p> <pre>\n<code>\n(sudo) dd if=[origen] of=[desti] bs=[blocs de enviament] status=progress\n</code>\n</pre> <p></p> <p>Podem comprovar que la informacio entre les dos particions es igual mitjansant un hash.  Per fer un hash, podem utilitzar la seguent comanda:</p> <pre>\n<code>\n(sudo) md5sum [particio1] [particio2]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#automatitzacions","title":"Automatitzacions","text":"<p>Les automatitzacions en Linux, es configuren mitjansant dos programes, cron i anacron.  Aquests dos programes funcionen quasi de la mateixa forma, es configura un moment del temps (pot ser repetit o no) per a executar un arxiu, normalment un script, o una comanda.  En SO antics, els programes estaven separats, actualment funcionen de forma conjunta.</p>"},{"location":"sprint2/#cron","title":"Cron","text":""},{"location":"sprint2/#teoria_1","title":"Teoria","text":"<p>S'utilitza quan es vol automatitzar una tasca en una hora determinada i l'ordinador estara engegat.  Cron es pot utilitzar de dues formes: - Usuari: es pot automatitzar tasques fetes pel propi usuari (incluin els permisos) - Super Usuari: s'automatitza les tasques utilitzant el super usuari root.</p> <p>Per a automatitzar tasques amb l'usuari connectat, utilitzem la seguent comanda:</p> <pre>\n<code>\ncrontab -e -u [usuari]\n</code>\n</pre> <p>Per a automatitzar tasques amb el super usuari, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) nano etc/crontab\n</code>\n</pre> <p></p> <p>Per afegir una automatitzacio, afegirem una linea utilitzant la seguent estructura. Si es deixa un apartat amb * significa que ho fara per a cada unitat de temps que representa.</p> <pre>\n<code>\n* * * * * comanda\n| | | | |\n| | | | +--- D\u00eda de la setmana (0-7, on 0 y 7 representa el diumenge)\n| | | +----- Mes (1-12)\n| | +------- D\u00eda del mes (1-31)\n| +--------- Hora (0-23)\n+----------- Minut (0-59)\n</code>\n</pre>"},{"location":"sprint2/#practica","title":"Practica","text":"<p>Primer, comensarem escrivint el script per a automatitzar.</p> <p></p> <p>Afegim permisos d'execucio al script.</p> <p></p> <p>Utilitzant la seguent comanda, afegim la linea per a dintre de uns minuts.</p> <pre>\n<code>\ncrontab -e -u [usuari]\n</code>\n</pre> <p></p> <p>El script crea un arxiu comprimit en l'escriptori, l'ordinador al estar obert i arribar la hora i els minuts especificats, es crea el comprimit.</p> <p></p>"},{"location":"sprint2/#anacron","title":"Anacron","text":""},{"location":"sprint2/#teoria_2","title":"Teoria","text":"<p>S'utilitza quan es vol automatitzar una tasca i l'ordinador pot o no estar engegat.  Si l'ordinador esta apagat, quan s'engegui executara les tasques pendents.</p> <p>Anacron es modifica utilitzant la seguent comanda:</p> <pre>\n<code>\n(sudo) nano /etc/anacrontab\n</code>\n</pre> <p>I s'estructura de la seguent forma:</p> <pre>\n<code>\n1       5       cron.daily      run-parts /etc/cron.daily\n</code>\n</pre> <ul> <li>Frequencia: frequencia d'execucio en dies</li> <li>Atrasament: temps en minuts abans de iniciar una comanda.</li> <li>Identificador: nom unic de la tasca mostrada als logs</li> <li>Comanda: comanda a executar, per defecte executa tots els arxius dintre de la carpeta mostrada.</li> </ul>"},{"location":"sprint2/#practica_1","title":"Practica","text":"<p>Per a executar el script creat en la practica de cron diariament, pero afegint les caracteristiques de anacron, afegirem el script dintre de la seguent carpeta pero sense el .sh:</p> <pre>\n<code>\n/etc/cron.daily\n</code>\n</pre> <p></p> <p>A diferencia del script creat en la practica anterior, no es poden utilitzar variables del sistema dintre del script.</p> <p></p> <p>Note</p> <p>Es important recalcar que si el script tambe s'executa en cron pot donar problemes.</p> <p>Seguidament, modificarem el atrasament del anacron modificant les seguents linees:</p> <p>Note</p> <p>Aquest pas es pot obviar, ja que modifiquem el atrasament per a fer la practica mes agil.</p> <pre>\n<code>\n(sudo) nano /etc/anacrontab\n</code>\n</pre> <p></p> <p>Al reiniciar l'ordinador i esperar el temps, l'arxiu s'executara de forma satisfactoria.</p> <p></p>"},{"location":"sprint3/","title":"Sprint 3","text":""},{"location":"sprint3/#dominis","title":"Dominis","text":"<p>Els dominis son estructures organitzatives utilitzades per gestionar usuaris, recursos i politiques en una xarxa informatica.  Usualment aquestes estructures parteixen desde un servidor central on tots els equips estan adherits al domini.  Els dominis mes utilitzats son:</p> <ul> <li>Active Directory Domain Services (AD DS): Windows</li> <li>OpenLDAP: Linux i Windows</li> <li>Samba: Linux</li> <li>Azure Active Directory: Windows i Linux</li> <li>Kerberos: Linux i Windows </li> </ul>"},{"location":"sprint3/#ldap","title":"LDAP","text":""},{"location":"sprint3/#instalacio-i-configuracio-del-domini-al-servidor","title":"Instalacio i configuracio del domini al servidor","text":""},{"location":"sprint3/#configuracio-del-entorn","title":"Configuracio del entorn","text":"<p>Primer configurarem el SO per a poder fer una instalacio mes agradable de LDAP.  Configurarem una IP estatica al servidor i comprovem que tinguessim connexio a internet.</p> <p></p> <p></p> <p>Seguidament comprovem que al seguent fitxer tinguessim el nom del equip ben configurat. Si es vol canviar es necessari reiniciar el equip.</p> <pre>\n<code>\n/etc/hostname\n</code>\n</pre> <p></p> <p>En el seguent fitxer, afegirem una linea amb la IP del equip, hostname, el nom del domini que es creara i una altra vegada el hostname.</p> <pre>\n<code>\n/etc/hosts\n</code>\n</pre> <pre>\n<code>\n10.0.2.8 [hostname].[nom del domini].[extensio del domini] [hostname]\n</code>\n</pre> <p></p>"},{"location":"sprint3/#instalacio-ldap","title":"Instalacio LDAP","text":"<p>Abans d'instalar actualitzem els repositoris.</p> <pre>\n<code>\n(sudo) apt update\n</code>\n</pre> <p>I instalarem els seguents paquets.</p> <pre>\n<code>\n(sudo) apt install slapd ldap-utils\n</code>\n</pre> <p></p> <p>A l'instalar els paquets, s'obrira el configurador inicial de LDAP.  El primer pas escriurem la contrasenya que tindra el administrador.</p> <p></p> <p>I confirmarem la contrasenya.</p> <p></p> <p>Despres sortirem del configurador inicial.  Podrem comprovar amb la seguent comanda que, s'ha creat el domini de LDAP, sol que no esta del tot ben configurat.</p> <pre>\n<code>\n(sudo) slapcat\n</code>\n</pre> <p></p>"},{"location":"sprint3/#configuracio-ldap","title":"Configuracio LDAP","text":"<p>Per a acabar de configurar el LDAP, haurem de utilitzar la seguent comanda:</p> <pre>\n<code>\n(sudo) dpkg-reconfigure slapd\n</code>\n</pre> <p></p> <p>Note</p> <p>Es pot repetir aquesta comanda per a reconfigurar el servidor tantes vegades necessaries, encara que no es recomanable utilitzar-lo en grans estructures.</p> <p>No omitim la configuracio de LDAP.</p> <p></p> <p>Introduim el nom i l'extensio del domini abans afegit en /etc/hosts.</p> <p></p> <p>Introduim el nom de la organitzacio, que es el nom i l'extensio del domini.</p> <p></p> <p>Introduim la contrasenya del administrador, hauria de ser la mateixa abans afegida.</p> <p></p> <p>Confirmem la contrasenya.</p> <p></p> <p>Acceptem.</p> <p></p> <p>I acceptem borra la base de dades anterior. En aquest cas no hi ha res al ser la primera configuracio.</p> <p></p> <p>Ara si utilitzem la seguent comanda, podrem veure que tota la informacio esta correctament configurada.</p> <p></p>"},{"location":"sprint3/#afegir-estructures","title":"Afegir estructures","text":"<p>La forma mes comuna de afegir estructura al nostre domini es mitjansant arxius de configuracio .ldif.  Podrem afegir la estructura al nostre domini mitjansant la seguent comanda:</p> <pre>\n<code>\n(sudo) ldapadd -x -D \"cn=[usuari administrador],dc=[nom de domini],dc=[nom de domini]\" -W -f [fitxer.ldif]\n</code>\n</pre> <p>Les opcions ficades indiquen el seguent: - x: activa l'autentificador simple ja que SASL no esta activat - D: especifica l'usuari que esta fent l'accio - W: demana la contrasenya de forma segura al no mostrarse en pantalla - f: especifica el fitxer de configuracio</p> <p></p> <p>Sempre es pot comprovar utilitzant la seguent comanda:</p> <pre>\n<code>\n(sudo) slapcat\n</code>\n</pre> <p>Warning</p> <p>En les seguents arxius de configuracio no estan totes les opciones al ser una gran cuantitat.</p>"},{"location":"sprint3/#unitats-organitzatives","title":"Unitats organitzatives","text":"<p>Per crear UOs, haurem de seguir la seguent estructura:</p> <pre>\n<code>\ndn: ou=[nom de la UO],dc=[nom de domin],dc=[nom de domini]\nobjectClass: organizationalUnit\nobjectClass: top\nou: [nom de la UO]\n</code>\n</pre> <p></p>"},{"location":"sprint3/#usuaris","title":"Usuaris","text":"<p>Per crear usuaris, haurem de seguir la seguent estructura:</p> <pre>\n<code>\ndn: uid=[id usuari],ou=[UO que pertany],dc=[nom de domini],dc=[nom de domini]\nobjectClass: inetOrgPerson\nobjectClass: organizationalPerson\nobjectClass: person\nobjectClass: posixAccount\nobjectClass: shadowAccount\nobjectClass: top\nuserPassword: [contrasenya]\ncn: [Nom]\ngidNumber: [Numero de grup]\nhomeDirectory: [directori home]\nloginShell: [shell]\nsn: [Cognoms]\nuidNumber: [numero identificador de usuari]\n</code>\n</pre> <p></p>"},{"location":"sprint3/#grups","title":"Grups","text":"<p>Per crear grups, haurem de seguir la seguent estructura:</p> <pre>\n<code>\ndn: cn=[grup],ou=[UO que pertany],dc=[nom de domini],dc=[nom de domini]\nobjectClass: posixGroup\nobjectClass: top\ncn: [grup]\ngidNumber: [Numero de grup]\nmemberUid: [uid de l'usuari membre]\n</code>\n</pre> <p></p>"},{"location":"sprint3/#unir-clients-al-domini","title":"Unir clients al domini","text":""},{"location":"sprint3/#paquets-i-configuracio-inicial","title":"Paquets i configuracio inicial","text":"<p>Per unir un equip al domini, primer haurem de comprovar que tingui acces per xarxa.  Seguidament, podrem comensar instalant el seguent paquet.</p> <pre>\n<code>\n(sudo) apt install nscd\n</code>\n</pre> <p></p> <p>A continuacio instalem aquest paquet:</p> <pre>\n<code>\n(sudo) apt install libnss-ldap\n</code>\n</pre> <p></p> <p>En la configuracio que es mostra al instalar els paquets, escriurem de primer la IP del servidor del domini:</p> <p></p> <p>Introduim el nom del domini:</p> <p></p> <p>Escollim la versio mes nova disponible de LDAP:</p> <p></p> <p>Acceptem la configuracio per defecte dels seguents parametres:</p> <p></p> <p></p> <p>Introduim el usuari administrador del domini:</p> <p></p> <p>Introduim la contrasenya de l'administrador:</p> <p></p> <p>A continuacio descarguem el seguent paquet:</p> <pre>\n<code>\n(sudo) apt install libpam-ldap\n</code>\n</pre> <p></p>"},{"location":"sprint3/#configuracio-darxius-del-sistema","title":"Configuracio d'arxius del sistema","text":"<p>Modificarem el seguent arxiu:</p> <pre>\n<code>\n/etc/nsswitch.conf\n</code>\n</pre> <p>Afegint ldap a cada linea que es mostra:</p> <p></p> <pre>\n<code>\npasswd:    ldap compat files systemd sss\ngroup:     ldap compat files systemd sss\nshadow:    ldap compat files systemd sss\ngshadow:   ldap compat files systemd\n</code>\n</pre> <p>Seguidament modificarem el seguent fitxer, a partir de ubuntu 24 aquest ja esta implementat de forma nativa:</p> <pre>\n<code>\n/etc/pam.d/common-passsword\n</code>\n</pre> <p>Haurem d'afegir la seguent linea en la zona indicada:</p> <pre>\n<code>\nuse_authtok\n</code>\n</pre> <p></p> <p>A continuacio, modifiquem el seguent fitxer:</p> <pre>\n<code>\n/etc/pam.d/common-session\n</code>\n</pre> <p>Afegirem la seguent linea de configuracio:</p> <pre>\n<code>\nsession optional        pam_mkhomedir.so skel=/etc/skel umask=077\n</code>\n</pre> <p></p> <p>Per ultim, modifiquem el seguent fitxer:</p> <pre>\n<code>\n/usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf\n</code>\n</pre> <p>Afegirem la seguent linea de configuracio:</p> <pre>\n<code>\ngreeter-show-manual-login=true\n</code>\n</pre>"},{"location":"sprint3/#comprovacions","title":"Comprovacions","text":"<p>Despres de les configuracions, podrem comprovar si estem conectats als domini buscant els usuaris dintre del nostre sistema.  Per fer-ho utilitzem la seguent comanda i filtrem pels usuaris del domini:</p> <pre>\n<code>\n(sudo) getent passwd\n</code>\n</pre> <p></p> <p>Si apareixen en el sistema, tambe hauriem de poder connectar-nos al usuari.</p> <p></p>"},{"location":"sprint3/#reconfigurar","title":"Reconfigurar","text":"<p>Si al comprovar no funciona o al configurar hem realitzat un error, podem reconfigurar les configuracions del principi amb la seguent comanda:</p> <pre>\n<code>\n(sudo) dpkg-reconfigure ldap-auth-config\n</code>\n</pre> <p>Note</p> <p>Sol es mostren les captures diferents de la configuracio inicial</p> <p>Donem l'administrament de LDAP a debconf:</p> <p></p> <p>Acceptem i seleccionem la encriptacio md5 per a les contrasenyes:</p> <p></p> <p></p>"},{"location":"sprint3/#comandes-varies","title":"Comandes varies","text":""},{"location":"sprint3/#cerca","title":"Cerca","text":"<p>Per cercar dintre del registres de LDAP amb el client, utilitzem la seguent comanda:</p> <pre>\n<code>\nldapsearch -xLLL -b \"dc=[nom domini],dc=[nom domini]\" [opcions de cerca]\n</code>\n</pre> <p>Les opcions especificades indiquen el seguent:</p> <ul> <li>x: utilitza l'autentificacio simple en canvi de SASL</li> <li>LLL: formateja la sortida de la informacio a una mes neta i entenedora</li> <li>b: indica la base de busqueda, en aquest cas el nostre domini</li> </ul> <p>Note</p> <p>Si al fer la cerca surt un error de mala conexio com aquest: <pre>\n<code>\nldap_sasl_bind(SIMPLE): Can't contact LDAP server (-1)\n</code>\n</pre> Es pot solucionar afegint el seguent parametre a la comanda anterior: <pre>\n<code>\nldapsearch -xLLL -H [ip del servidor domini]:389 -b \"dc=[nom domini],dc=[nom domini]\" [opcions de cerca]\n</code>\n</pre></p>"},{"location":"sprint3/#exemples","title":"Exemples","text":"<p>Cercar quants UO hi han, el numero donat s'ha de dividir entre 2:</p> <p></p> <pre>\n<code>\nldapsearch -xLLL -b \"dc=[nom domini],dc=[nom domini]\" ou | wc -l\n</code>\n</pre> <p>Cercar quants usuaris hi han, el numero donat s'ha de dividir entre 2:</p> <p></p> <pre>\n<code>\nldapsearch -xLLL -b \"dc=[nom domini],dc=[nom domini]\" objectClass=person | wc -l\n</code>\n</pre> <p>En quins grups esta l'usuari kvaughan:</p> <p></p> <pre>\n<code>\nldapsearch -xLLL -b \"dc=[nom domini],dc=[nom domini]\" \"(&amp;(objectClass=groupOfUniqueNames)(uniquemember=uid=kvaughan,ou=People,dc=[nom domini],dc=[nom domini]))\" cn\n</code>\n</pre> <p>Quants grups esta l'usuari kvaughan, el numero donat s'ha de dividir entre 3:</p> <p></p> <pre>\n<code>\nldapsearch -xLLL -b \"dc=[nom domini],dc=[nom domini]\" \"(&amp;(objectClass=groupOfUniqueNames)(uniquemember=uid=kvaughan,ou=People,dc=[nom domini],dc=[nom domini]))\" cn | wc -l\n</code>\n</pre> <p>Quants grups hi han dintre de la UO Groups, el numero donat s'ha de dividir entre 2 i restar  1:</p> <p></p> <pre>\n<code>\nldapsearch -xLLL -H ldap:// 10.0.2.15 -b \"ou=Groups,dc=[nom domini],dc=[nom domini]\" dn | wc -l\n</code>\n</pre> <p>Mostrar tots els usuaris de la UO People que comencin per k i tambe estiguin dintre de la UO Human Resources:</p> <p></p> <pre>\n<code>\nldapsearch -x -LLL -b \"ou=People,dc=[nom domini],dc=[nom domini]\" \"(&amp;(uid=k*)(ou=Human Resources))\" dn\n</code>\n</pre> <p>Mostrar numero total d'usuaris amb uidNumber entre 1010 i 1030, el numero donat s'ha de dividir entre 2:</p> <p></p> <pre>\n<code>\nldapsearch -x -LLL -b \"dc=[nom domini],dc=[nom domini]\" \"(&amp;(uidNumber&gt;=1010)(uidNumber&lt;=1030))\" dn | wc -l\n</code>\n</pre> <p>Mostrar numero total d'usuaris on el seu telefon acabi en 2 o el seu cognom en una n, el numero donat s'ha de dividir entre 2:</p> <p></p> <pre>\n<code>\nldapsearch -x -LLL -b \"dc=[nom domini],dc=[nom domini]\" \"(|(telephoneNumber=*2)(sn=*n))\" dn | wc -l\n</code>\n</pre>"},{"location":"sprint3/#afegir","title":"Afegir","text":"<p>Per afegir registres al domini LDAP desde un client tenim dues formes de fer-ho:</p> <ul> <li>Afegir a partir d'un fitxer ldif convencional</li> <li>Afegir a partir d'un ldif utilitzant la comanda de modificacio</li> </ul> <p>Per afegir el registre de forma ordinaria, utilitzem la seguent comanda:</p> <pre>\n<code>\nldapadd -x -D \"cn=[usuari administrador],dc=[nom de domini],dc=[nom de domini]\" -W -f [fitxer.ldif]\n</code>\n</pre> <p>Les opcions especificades indiquen el seguent:</p> <ul> <li>x: utilitza l'autentificacio simple en canvi de la SASL</li> <li>D: especifica el usuari i domini el qual es realitza l'accio</li> <li>W: demana la contrasenya de forma interactiva </li> <li>f: especifica l'arxiu ldif</li> </ul> <p>Per afegir un usuari a partir de la comanda de modificacio, primer haurem de configurar l'arxiu ldif d'aquesta forma:</p> <pre>\n<code>\ndn: [dn]\nchangetype: add\n...\n</code>\n</pre> <p>Per aplicar l'arxiu, utilitzem la seguent comanda:</p> <pre>\n<code>\nldapmodify -x -D \"cn=[usuari administrador],dc=[nom de domini],dc=[nom de domini]\" -W -f [fitxer.ldif]\n</code>\n</pre> <p>Les opcions especificades indiquen el mateix que la comanda anterior.</p>"},{"location":"sprint3/#exemples_1","title":"Exemples","text":"<p>Afegir una UO amb el nom de asix:</p> <p>Escrivim els atributs de la UO asix en el arxiu ldif.</p> <p></p> <p>Apliquem la comanda ldapadd per afegir el UO </p> <p>Comprovem que s'ha afegit correctament.</p> <p></p> <p>Afegir un usuari amb informacio adicional:</p> <p>Afegim l'usuari amb tota la informacio dintre  del arxiu ldif. En aquest cas la informacio adicional es: - facsimileTelephoneNumber - telephoneNumber - mail </p> <p>Apliquem la configuracio amb la comanda. </p> <p>Comprovem que s'ha afegit correctament.</p> <p></p> <p>Afegir un grup amb usuaris:</p> <p>Creem el ldif amb el nou usuari i els membres que contindra.</p> <p></p> <p>Afegim el nou grup.</p> <p></p> <p>Comprovem que el grup s'ha afegit de forma correcta.</p> <p></p>"},{"location":"sprint3/#eliminar","title":"Eliminar","text":"<p>Per eliminar registres de LDAP hi han dues formes:</p> <ul> <li>Eliminar amb una comanda</li> <li>Eliminar utilitzant un arxiu ldif i la comanda de modificacio</li> </ul> <p>Per a eliminar el registre amb una comanda:</p> <pre>\n<code>\nldapdelete -x -D \"cn=[usuari administrador],dc=[nom domini],dc=[nom domini]\" -W \"[dn del registre]\"\n</code>\n</pre> <p>Per a eliminar el registre amb un arxiu, escrivim el seguent en l'arxiu:</p> <pre>\n<code>\ndn: [dn del registre]\nchangetype: delete\n</code>\n</pre> <p>I utilitzem la seguent comanda:</p> <pre>\n<code>\nldapmodify -x -D \"cn=[usuari admin],dc=[nom domini],dc=[nom domini]\" -W -f [arxiu.ldif]\n</code>\n</pre>"},{"location":"sprint3/#exemples_2","title":"Exemples","text":"<p>Eliminar la UO People:</p>"},{"location":"sprint3/#modificar","title":"Modificar","text":"<p>Hi han 4 caracteristiques dels registres que es poden modificar:</p> <ul> <li>Afegint atributs</li> <li>Canviant atributs</li> <li>Eliminant atributs</li> <li>Canviant el dn</li> </ul> <p>La comanda, que val per a totes les modificacions, es la seguent:</p> <pre>\n<code>\nldapmodify -x -D \"cn=[usuari admin],dc=[nom domini],dc=[nom domini]\" -W -f [arxiu.ldif]\n</code>\n</pre> <p>Per fer-ho necesitem un arxiu .ldif amb la seguent estructura:</p> <pre>\n<code>\ndn: [dn del registre]\nchangetype: modify\n...\n</code>\n</pre> <p>Per a afegir atributs, afegim les seguents linees al arxiu:</p> <pre>\n<code>\nadd: [atribut]\n[atribut]: [especificacions del atribut]\n</code>\n</pre> <p>Per modificar atributs, afegim les seguents linees al arxiu:</p> <pre>\n<code>\nreplace: [atribut]\n[atribut]: [especificacions del atribut]\n</code>\n</pre> <p>Per eliminar atributs, afegim les seguents linees al arxiu:</p> <pre>\n<code>\ndelete: [atribut]\n</code>\n</pre> <p>Per modificar el dn, utilitzem la seguent estructura:</p> <pre>\n<code>\ndn: [dn del registre]\nchangetype: modrdn\n...\n</code>\n</pre> <p>Per modificar solament el cn, afegim les seguents linees al arxiu:</p> <pre>\n<code>\nnewrdn: cn=[nou cn]\ndeleteoldrdn: 1\n</code>\n</pre> <p>Si tambe volem modificar el UO o domini, afegim les seguents linees al arxiu:</p> <pre>\n<code>\nnewsuperior: [nou ou o domini]\n</code>\n</pre>"},{"location":"sprint3/#exemples_3","title":"Exemples","text":"<p>Eliminar els atributs roomnumber i homeDirectory del usuari ejohnoson:</p> <p>Afegim els atributs a eliminar en el arxiu ldif.</p> <p></p> <p>Utilitzem la comanda ldapmodify per aplicar la modifiacio.</p> <p></p> <p>Comprovem que s'han eliminat els atributs.</p> <p></p> <p>Canviar 3 usuaris de People a ASIX:</p> <p>Afegim els usuaris que volem canviar de UO dintre del arxiu ldif.</p> <p></p> <p>Apliquem la comanda.</p> <p></p> <p>Comprovem que estan dintre del UO de asix.</p> <p></p> <p>Modificar el uid de hmiller a hamiller:</p> <p>Afegim el nou uid que volem ficar al usuari en un arxiu ldif.</p> <p></p> <p>Apliquem la comanda.</p> <p></p> <p>Comprovem que s'ha modificat el uid.</p> <p></p> <p>Afegir dos atributs mes al usuari walid:</p> <p>Afegim els atributs gecos i description.</p> <p></p> <p>Apliquem els canvis amb la comanda.</p> <p></p> <p>Comprovem que els canvis s'han realitzat.</p> <p></p> <p>Modificar el correu de jburrell:</p> <p>Reemplacem el antic correu amb el nou utilitzant el replace. </p> <p>Apliquem els canvis.</p> <p></p> <p>Comprovem que els canvis s'han realitzat correctament.</p> <p></p> <p>Treure a un membre de un grup:</p> <p>Eliminem el usuari amb el delete.</p> <p></p> <p>Apliquem el canvi.</p> <p></p> <p>Comprovem que l'usuari s'ha tret del grup.</p> <p></p> <p>Esborrar un atribut, afegir un altre i modificar un tercer d'un usuari:</p> <p>Afegim l'atribut, eliminem un altre i modifiquem el tercer dintre del arxiu ldif.</p> <p></p> <p>Apliquem els canvis.</p> <p></p> <p>Comprovem que els canvis s'han realitzat correctament.</p> <p></p>"},{"location":"sprint3/#entorn-grafic","title":"Entorn Grafic","text":"<p>En el client LDAP es poden instalar entorns grafics per a facilitar la gestio d'aquest, els mes populars son:</p> <ul> <li>Apache Directory Studio</li> <li>JXplorer</li> <li>Phpldapadmin</li> <li>LDAP Account Manager</li> </ul> <p>En aquesta documentacio, utilitzarem Apache Directory Studio</p>"},{"location":"sprint3/#instalacio","title":"Instalacio","text":"<p>Per instalar Apache Directory Studio, haurem d'entrar al seguent enlla\u00e7 i descargar el paquet.</p> <p></p> <p>Escollim el SO, en aquest cas Linux.</p> <p></p> <p>Cliquem el enlla\u00e7 i ens descargara el paquet.</p> <p></p> <p>Extraem el paquet, en aquest cas en l'entorn grafic.</p> <p></p> <p>En la propia carpeta creada, es trobara el ApacheStudio, el qual si l'executem s'inicia el programa.</p> <p></p> <p>Note</p> <p>La majoria d'errors al iniciar el Apache Studio es la falta del JVE (Java Virtual Envoirenment) i/o JDK (Java Developer Kit), els podem instalar amb les seguents comandes: <pre>\n<code>\n(sudo) apt install default-jve\n(sudo)apt install default-jdk\n</code>\n</pre></p>"},{"location":"sprint3/#configuracio","title":"Configuracio","text":"<p>Dintre del Apache Studio, en l'apartat LDAP cliquem a una nova conexi\u00f3.</p> <p></p> <p>En els primers parametres posem el nom que volem a la conexio i la IP del servidor domini.</p> <p></p> <p>Seguidament, escollim l'autentificacio simple i escrivim el administrador i domini que volem connectar-nos juntament amb la contrasenya del administrador.</p> <p></p> <p>Una vegada autenticats, podem escollir el domini LDAP en la part inferior esquerra.</p> <p></p> <p>En l'apartat DIT, podem veure l'estructura del LDAP de forma senzilla.</p> <p></p> <p>Si escollim algun registre, en la part dreta es mostrara les caracteristiques d'aquest.</p> <p></p>"},{"location":"sprint3/#afegir-registres","title":"Afegir Registres","text":""},{"location":"sprint3/#des-de-0","title":"Des de 0","text":"<p>Per afegir un nou registre, fem click dret al grup o estructura que ser\u00e0 part -&gt; new entry.</p> <p></p> <p>Afegirem la entrada de forma manual.</p> <p></p> <p>En aquest apartat, posem els object class del registre. En aquest cas es un grup.</p> <p></p> <p>En aquest apartat, afegim o eliminem els RDS necessaris, en aquest cas solament necessitem el cn.</p> <p></p> <p>Com tots els grups necessiten un gidNumber (i al ser l'unic atribut afegit) haurem d'assignar-lo.</p> <p></p> <p>Finalment, podem veure els atributs del registre i modificar-los segons el convenient.</p> <p></p> <p>Finalment, podem veure que el registre s'ha afegit de forma satisfactoria.</p> <p></p>"},{"location":"sprint3/#utilitzant-plantilles","title":"Utilitzant plantilles","text":"<p>Per afegir registres utilitzant plantilles, creem una nova entrada per\u00f2 utilitzant una entrada existent com a plantilla.</p> <p></p> <p>Escollim la entrada per a utilitzar-la com a plantilla.</p> <p></p> <p>Al ser iguals, no fa falta canviar els object class. En altres casos podria ser necessaris.</p> <p></p> <p>Canviem el cn del registre al nou</p> <p></p> <p>I canviem els atributs convenients al nou registre.</p> <p></p> <p>Finalment, podem veure que el registre s'ha afegit de forma satisfactoria.</p> <p></p>"},{"location":"sprint3/#comprovacions_1","title":"Comprovacions","text":"<p>Per a fer les comprovacions, s'ha creat un usuari kike.</p> <p></p> <p>A la maquina client, entrem amb un nou usuari, en aquest cas Kike.  Com podem veure, s'ha autenticat de forma satisfactoria ja que s'esta creant la seva carpeta d'usuari.</p> <p></p> <p>Finalment, hem autenticat a Kike de forma grafica. </p> <p></p>"},{"location":"sprint3/#comparticio-de-recursos","title":"Comparticio de recursos","text":""},{"location":"sprint3/#nfs","title":"NFS","text":"<p>NFS (Network File System) es un protocol que permet compartir carpetes i fitxers per la xarxa.  NFS comparteix recursos per host. Es pot autenticar mitjansant usuaris pero s'hauria d'utilitzar juntament amb Kerberos</p>"},{"location":"sprint3/#configuracio-servidor","title":"Configuracio servidor","text":"<p>En el servidor, instalarem el paquet necessari, el qual es el seguent:</p> <pre>\n<code>\n(sudo) apt install nfs-kernel-server\n</code>\n</pre> <p></p> <p>Creem la carpeta el qual es compartira. Per no tindre problemes amb permisos, de moment el propietari de la carpeta es ningu i amb tots els permisos a tothom.</p> <p></p> <p>Seguidament, en el fitxer /etc/exports afegim les seguents linees:</p> <pre>\n<code>\n[carpeta a compartir] [xarxa]([permisos],[sincronitzacio],[seguretat],[rendiment])\n</code>\n</pre> <p>Les opcions a ficar son les seguents:</p> <ul> <li>Xarxa: es pot indicar la xarxa que pot accedir. (*) indica totes les xarxes, es pot ficar IPs d'equips individuals (192.168.2.24) o xarxes (192.168.2.0/24).</li> <li>Permisos: es posen els permisos de la carpeta han de estar alineats amb els del sistema. (ro) indica solament lectura. (rw) indica lectura i escriptura.</li> <li>Sincronitzacio: indica quina sincronitzacio amb el servidor dona. (sync) escriu al disc del servidor i despres respon. (async) respon i despres escriu al disc del servidor.</li> <li>Seguretat: s'indica la seguretat a la carpeta. (root_squash) indica que el root dels clients son usuaris no privilegiats a la carpeta. (no_root_squash) permet que el root del client tingui privilegis a la carpeta. (all_squash) mapeja tots els usuaris com a nobody nogroup.</li> <li>Rendiment: indica el rendiment en el subdirectoris. (no_subtree_check) no verifica permisos dels subdirectoris. (subtree_check) verifica els permisos dels subdirectoris.</li> </ul> <p></p> <p>Finalment, reiniciem el servei amb la seguent comanda:</p> <pre>\n<code>\n(sudo) systemctl restart nfs-kernel-server\n</code>\n</pre>"},{"location":"sprint3/#configuracio-clients","title":"Configuracio Clients","text":""},{"location":"sprint3/#windows","title":"Windows","text":"<p>En Windows, anem al panel de control -&gt; Programes i Caracteristiques. I activem una caracteristica de Windows.</p> <p></p> <p>Afegim la caracteristica \"Serveis per a NFS\".</p> <p></p> <p>Finalment, si busquem per la xarxa (per exemple ficant la direccio IP del servidor a la barra de busqueda de fitxers) podrem accedir a la carpeta compartida.</p> <p></p> <p>Podem comprovar que dintre de la carpeta compartida podem crear fitxers, en aquest cas s'ha creat un fitxer anomenat Wiindows.txt.</p> <p></p>"},{"location":"sprint3/#ubuntu","title":"Ubuntu","text":"<p>Primer, instalem el paquet necessari, el qual es el seguent:</p> <pre>\n<code>\n(sudo) apt install nfs-common rpcbind\n</code>\n</pre> <p></p> <p>Seguidament creem una carpeta el qual apuntara a la carpeta compartida. Li fiquem los mateixos permisos que la compartida i la montem amb mount. En aquest cas al montar s'haura de posar la direccio IP i ruta de la carpeta.</p> <pre>\n<code>\n(sudo) mount [IP]:[ruta carpeta] [carpeta local]\n</code>\n</pre> <p></p> <p>Finalment, podem comprovar que el client Ubuntu pot accedir i crear fitxers en la carpeta compartida, en aquest cas a creat un fitxer anoment clientUbuntu.</p> <p></p>"},{"location":"sprint3/#samba","title":"Samba","text":"<p>Samba comparteix recursos per usuari que s'ha de autenticar. Es pot configurar juntament amb LDAP.  Els usuaris que no estiguin creats dintre de Samba no poden accedir ni autenticar-se.  Tambe permet la comparticio de mes recursos a part de carpetes i fitxers, com per exemple impresores.</p>"},{"location":"sprint3/#configuracio-servidor_1","title":"Configuracio Servidor","text":"<p>Primer de tot, instalarem els paquets necessaris amb la seguent comanda:</p> <pre>\n<code>\n(sudo) apt install samba\n</code>\n</pre> <p></p> <p>Seguidament, creem una carpeta la qual sera la que es compartira. Fiquem com a propietari nobody nogroup amb tots els permisos ficats.</p> <p></p> <p>En l'arxiu seguent, afegim les caracteristiques de la carpeta a compartir:</p> <pre>\n<code>\n(nano) /etc/samba/smb.conf\n</code>\n</pre> <pre>\n<code>\n[nom visible en xarxa]\npath=[ruta absoluta de la carpeta]\nguest ok = [Permet l'acces sense usuari (yes/no)]  \ndirectory mask = [Permisos per als nous directoris (ex: 0775)]  \ncreate mask = [Permisos per als nous fitxers (ex: 0664)]  \nbrowseable = [Si el recurs es visible a la xarxa (yes/no)]  \nread list = [Usuaris o grups amb permis de lectura]  \nwrite list = [Usuaris o grups amb permis d'escriptura]  \ninvalid users = [Llista d'usuaris als quals es denega l'acces]  \n</code>\n</pre> <p>Note</p> <p>Es poden afegir usuaris escribint el nom directament, tambe es pot afegir grups posant un @ al principi del nom (@dam).</p> <p>Reiniciem el servei amb la seguent comanda:</p> <pre>\n<code>\n(sudo) systemctl restart smbd nmbd\n</code>\n</pre> <p></p> <p>Seguidament, afegim els usuaris que es podran autenticar dintre del sistema amb la seguent comanda:</p> <pre>\n<code>\n(sudo) useradd -M -s /sbin/nologin [usuari] \n</code>\n</pre> <p> </p> <p>Podem comprovar que s'han afegit els usuaris correctament amb la seguent comanda:</p> <pre>\n<code>\n(sudo) tail [- (usuaris afegits)] /etc/passwd\n</code>\n</pre> <p></p> <p>En aquest cas, hem afegit un grup. El procediment continua sent el mateix.</p> <p></p> <p></p> <p>Finalment, posarem una contrasenya per a cadascun dels usuaris amb la seguent comanda:</p> <pre>\n<code>\n(sudo) smbpasswd -a [usuari]\n</code>\n</pre> <p></p>"},{"location":"sprint3/#configuracio-clients_1","title":"Configuracio Clients","text":"<p>Primer de tot, instalarem el paquet samba amb la seguent comanda:</p> <pre>\n<code>\n(sudo) apt install smbclient\n</code>\n</pre> <p>En Ubuntu Desktop, podem connectar-nos al servidor mitjansant l'aplicacio fitxers -&gt; altres ubicacions i escriure l'adresa del servidor i carpeta que volem accedir. <pre>\n<code>\nsmb://[ip servidor]/[carpeta]/\n</code>\n</pre> <p>Note</p> <p>Les seguents proves s'han fet a un servidor on es deixaba accedir en format anonim sense poder fer canvis. </p> <p>Seguidament, ens demanara autentificar-nos. Com a primera prova, ens autenticarem com anonims.</p> <p></p> <p>Com no tenim permisos per a modificar o crear en la carpeta, no ens deixara.</p> <p></p> <p>Si volem autenticar-nos com a usuari, seria de la seguent forma:</p> <p></p> <p>En aquest cas, si que ens deixa crear o modificar dintre de la carpeta.</p> <p></p> <p>Finalment, podem comprovar en el servidor que el fitxer s'ha creat.</p> <p></p>"},{"location":"sprint3/#ldap_1","title":"LDAP","text":""},{"location":"sprint3/#configuracio-servidor_2","title":"Configuracio Servidor","text":"<p>Primer, instalarem el seguent paquet:</p> <p></p> <pre>\n<code>\n(sudo) apt install nfs-kernel-server\n</code>\n</pre> <p>Creem la carpeta que volem compartir el qual tindra nobody nogroup i tots els permisos ficats:</p> <p></p> <p>Seguidament, entrarem en el seguent fitxer de configuracio:</p> <pre>\n<code>\n(sudo) nano /etc/exports\n</code>\n</pre> <p>Afegirem la seguent linea per a poder compartir la carpeta:</p> <p></p> <pre>\n<code>\n[carpeta] *(rw,sync,no_root_squash,no_subtree_check)\n</code>\n</pre> <p>Finalment, reinciem el servei per a actualitzar els canvis:</p> <p></p> <pre>\n<code>\n(sudo) systemctl restart nfs-kernel-server\n</code>\n</pre>"},{"location":"sprint3/#configuracio-clients_2","title":"Configuracio Clients","text":"<p>En el client de LDAP, instalem el seguent paquet:</p> <p></p> <pre>\n<code>\n(sudo) apt install nfs-common rpcbind\n</code>\n</pre> <p>Seguidament, creem la carpeta local on es connectara al servidor:</p> <p></p> <p>A continuacio, modificarem el seguent fitxer:</p> <pre>\n<code>\n(sudo) nano /etc/fstab\n</code>\n</pre> <p>En el fitxer, afegirem la seguent linea de configuracio:</p> <p></p> <pre>\n<code>\n[ip servidor]:[ruta absoluta carpeta] [ruta absoluta carpeta local] nfs auto,noatime,nolock,bg,nfsvers=3,intr,tcp,actimeo=1800 0 0\n</code>\n</pre> <p>Podem comprovar reiniciant el client i creant o eliminant fitxers en la carpeta que esta connectada al sevidor.</p> <p></p> <p></p>"},{"location":"sprint3/#usuaris-mobils-amb-ldap","title":"Usuaris Mobils amb LDAP","text":"<p>Per a crear usuairs mobils, primer haurem de seguir els passos de comparticio de recursos mitjan\u00e7ant NFS i LDAP.</p> <p>Una vegada configurat, creem un usuari on el directori home estigui dintre de la carpeta compartida:</p> <p></p> <p>Afegim l'usuari:</p> <p></p> <p>En l'ordinador client. Podem connectar-nos a l'usuari i crear un fitxer de prova.</p> <p></p> <p>En la carpeta del servidor, podem comprovar que l'usuari te el directori home en el servidor i crea els fitxers d'aquella carpeta en el servidor.</p> <p></p>"},{"location":"sprint4/","title":"Sprint 4","text":""},{"location":"sprint4/#connexio-remota-teamviewer","title":"Connexi\u00f3 remota TeamViewer","text":""},{"location":"sprint4/#instalacio","title":"Instalacio","text":"<p>Primer de tot, anirem a a la pagina oficial de TeamViewer i accedirem al boto de descarga gratuita.</p> <p></p> <p>En aquest cas, al ser una prova utilitzarem la versio gratuita de TeamViewer</p> <p></p> <p>Seguidament, descargarem el fitxer (en aquest cas la primera opcio).</p> <p></p> <p>En Ubuntu, necessitarem instalar les seguents dependencies:</p> <pre>\n<code>\n(sudo) apt install libminizip1 libxcb-xinerama0\n</code>\n</pre> <p></p> <p>Finalment, instalem el paquet. En aquest cas es a partir d'un fitxer .deb, el qual es pot instalar amb la seguent comanda:</p> <pre>\n<code>\n(sudo) dpkg -i [nom del fitxer .deb]\n</code>\n</pre> <p></p> <p>Una vegada instalat, accedim al TeamViewer i acceptem el EULA.</p> <p></p> <p>Finalment, estem al menu principal de TeamViewer</p> <p></p>"},{"location":"sprint4/#connexio","title":"Connexio","text":"<p>Per connectar-nos a un altre ordinador, primer ha de tenir TeamViewer instalat. A part s'ha de tenir un compte de TeamViewer iniciat a l'ordinador el qual es connectara amb l'altre. </p> <p>Primer, necessitarem el Partner ID del dispositiu que volem connectar-nos i escollim el el boto de remote control.</p> <p></p> <p>Ens demanara la contrasenya que es mostra al dispositiu que ens volem connectar.</p> <p></p> <p>En el dispositiu que es vol connectar, Ubuntu ens demanara permisos per acceptar el control remot de la nostra pantalla.</p> <p></p> <p>Finalment, estem connectats al dispositiu de forma remota.</p> <p></p>"},{"location":"sprint4/#comprovacio","title":"Comprovacio","text":"<p>Per comprovar que hem accedit al dispositiu de forma remota, s'ha creat un fitxer en el home de l'usuari.</p> <p></p> <p>En el dispositiu connectat, es pot veure que el fitxer s'ha creat.</p> <p></p>"},{"location":"sprint4/#monitoritzacio","title":"Monitoritzaci\u00f3","text":""},{"location":"sprint4/#que-son-els-logs","title":"Que son els Logs","text":"<p>Els logs son arxius on el sistema operatiu i les aplicacions enregistren informacio sobre esdeveniments, errors, advertencies i altres activitats.  Aquests registres son utils per diagnosticar problemes i monitorar el sistema.</p>"},{"location":"sprint4/#fitxers","title":"Fitxers","text":"<p>Els fitxers on es guarda els logs del sistema Linux es troben en la carpeta:</p> <pre>\n<code>\n/var/log/\n</code>\n</pre> <p>Els mes importans son:</p> <ul> <li>syslog: esdeveniments generals del sistema.</li> <li>auth.log: registres d'autenticacio com inici de sessions.</li> <li>kern.log: esdeveniments del kernel de Linux.</li> </ul>"},{"location":"sprint4/#visualitzar-logs","title":"Visualitzar Logs","text":"<p>Els logs es poden visualitzar de dues formes:</p> <ul> <li>Al ser arxius, es pot utilitzar tail per veure els ultims errors ocurrits.</li> </ul> <pre>\n<code>\ntail -f [log]\n</code>\n</pre> <p></p> <ul> <li>Utilitzant la comanda journalctl:  La comanda solament mostrara els logs de syslog, a part es pot adjuntar amb grep o els parametres necessaris.</li> </ul> <pre>\n<code>\njournalctl (parametres)\n</code>\n</pre> <p>Parametres:</p> <ul> <li> <p>-r: mostra els logs en ordre invers(els mes recents primer). </p> </li> <li> <p>-u (nom de servei): mostra els logs de un servei especific. </p> </li> <li> <p>-p (nivell de registre): mostra els logs segons el nivell de registre.   En aquest cas s'ha utilitzat el parametre -p 0</p> </li> <li> <p>--since \"YYYY-MM-DD HH:MM:SS\": mostra els logs de un moment en especific.</p> </li> <li>--until \"YYYY-MM-DD HH:MM:SS\": mostra els logs fins a un moment en especific.</li> <li>-f: fa un seguiment en temps real.</li> </ul> <p></p> <p> En aquest cas s'utilitza els parametres xe per a mostrar informacio extra (x) i que mostri directament les ultimes linees (e).</p>"},{"location":"sprint4/#configuracio","title":"Configuracio","text":"<p>Es pot configurar els logs per a que certs arxius solament tinguin certs logs.  En aquest cas afegirem els logs critics a un arxiu personalitzat.  Primer, obrirem l'arxiu per a configurar els logs:</p> <pre>\n<code>\n(sudo) nano /etc/rsyslog.d/50-default.conf\n</code>\n</pre> <p></p> <p>Segudimanet, afegirem la linea per a que tots els logs critics s'escriguin al nostre fitxer:</p> <p></p> <pre>\n<code>\n*.crit  -[ruta absoluta del fitxer]\n</code>\n</pre> <p>Una vegada fets els canvis, reiniciem el servei:</p> <p></p> <pre>\n<code>\n(sudo) systemctl restart rsyslog\n</code>\n</pre> <p>Per no es esperar a que un error apareixi, enviarem un error amb un missatge personalitzat a proposit:</p> <p></p> <pre>\n<code>\n(sudo) logger -i -s -p [apartat].[categoria] [missatge]\n</code>\n</pre> <p>Finalment, podem veure en el fitxer que el log s'ha guardat correctmanet:</p> <p></p>"},{"location":"sprint4/#enviar-logs-a-un-servidor","title":"Enviar Logs a un servidor","text":"<p>Per enviar logs a un servidor extern, utilitzarem NFS per a compartir una carpeta i guardar els logs.  Primer de tot, crearem una carpeta per a que faigui de connexio entre el servidor i l'equip:</p> <p>Warning</p> <p>La carpeta ha d'estar dintre de /var/log/ de l'equip ja que a fora d'aquesta els logs no es crearan.</p> <pre>\n<code>\n(sudo) mkdir /var/log/[carpeta]\n</code>\n</pre> <p>A continuacio, montarem la carpeta del servidor en la local:</p> <pre>\n<code>\n(sudo) mount [ip servidor]:[carpeta en ruta absoluta] [carpeta local en ruta absoluta]\n</code>\n</pre> <p></p> <p>En el fitxer de configuracio dels logs, crearem la regla per a capturar els logs i el guardarem a la carpeta que esta compartida per el servidor:</p> <p></p> <p>Reiniciem el servei de logs:</p> <pre>\n<code>\n(sudo) systemctl restart rsyslog\n</code>\n</pre> <p></p> <p>Enviem un log per a comprovar que els logs s'envien al servidor de forma correcta:</p> <p></p> <p>Finalment, podem veure que al servidor s'ha guardat el log de forma correcta:</p> <p></p>"},{"location":"sprint4/#enviar-logs-per-xarxa-a-un-servidor","title":"Enviar Logs per xarxa a un servidor","text":""},{"location":"sprint4/#servidor","title":"Servidor","text":"<p>Primer de tot, anirem al servidor i descomantarem les seguents linees de configuracio al arxiu:</p> <pre>\n<code>\n(sudo) nano /etc/rsyslog.conf\n</code>\n</pre> <p></p> <p>Com es veu a la imatge, la configuracio esta divida entre els protocols UDP i TCP. </p> <p>Reiniciem el servei.</p> <pre>\n<code>\n(sudo) systemctl restart rsyslog\n</code>\n</pre> <p></p>"},{"location":"sprint4/#client","title":"Client","text":"<p>Per al client, o ordinador que enviara els logs, ens dirigim al fitxer:</p> <pre>\n<code>\n(sudo) nano /etc/rsyslog.d/50-default.conf\n</code>\n</pre> <p>I afegim les seguent linees:</p> <pre>\n<code>\n*.crit     @@[IP servidor]:514\n</code>\n</pre> <p>Els @ identifiquen el protocol de xarxa que s'usa. @ indica UDP i @@ indica TCP.</p> <p></p> <p>Finalment, comprovem que els logs estan sent correctament enviats.</p> <p></p>"},{"location":"sprint4/#llicenciament","title":"Llicenciament","text":"<p>Una llicencia de programari es un conjunt de condicions legals que determinen com es pot utilitzar, modificar i distribuir un programa informatic.  Aquestes llicencies protegeixen els drets dels desenvolupadors i estableixen els limits d'us per als usuaris.  Hi han dos grans blocs de llicencies, la publica i la privada:</p>"},{"location":"sprint4/#privat","title":"Privat","text":"<p>Les llicencies privades, restringeixen l'acces al codi font i limiten l'us, modificacio i distribucio del programari. Dins d'aquest tipus de llicencia es hi han unes quantes subcategories:</p>"},{"location":"sprint4/#llicencia-comercial","title":"Llicencia Comercial","text":"<ul> <li>Destinada a la venda i us Comercial</li> <li>L'usuari ha de pagar per utilitzar el programari i no pot modificar-la</li> <li>Usada en la majoria de casos</li> <li>Exemples: Microsoft Windows, Adobe Photoshop, AutoCAD</li> </ul>"},{"location":"sprint4/#llicencia-dus-restringit-eula","title":"Llicencia d'us restringit (EULA)","text":"<ul> <li>Estableix les condicions d'us per a l'usuari final</li> <li>Pot restringir la instalacio a un nombre limitat de dispositius</li> <li>Sovint inclou clausules contra la modificacio o enginyeria inversa</li> <li>Exemples: TeamViewer, Microsoft Office, Steam</li> </ul>"},{"location":"sprint4/#llicencia-per-subscripcio","title":"Llicencia per subscripcio","text":"<ul> <li>Utilitza les mateixes clausules que la llicencia Comercial</li> <li>Es requereix un pagament periodic</li> <li>S'utilitza majoritariament en programes freemium (el programa es gratuit pero es pot pagar per obtindre millores)</li> <li>Exemples: Microsoft 365, Adobe Creative Cloud, Spotify premium</li> </ul>"},{"location":"sprint4/#public","title":"Public","text":"<p>Les llicencies publiques permeten l'us, modificacio i distribucio del programari amb diverses condicions.  Hi ha diversos subcategories on cadascuna estableix diferents nivells de llibertat i restriccions.  Sota qualsevol d'aquestes llicencies estan els programes lliures (PL) els quals han de complir 4 llibertat: - Utilitzar-lo sense condicions - Estudiar-lo i adaptar-lo a les propies necessitats - Distribuir-lo - Millorar-lo i distrbuir les modificacions</p> <p>Note</p> <p>Cal tenir en compte que per poder complir les llibertats s'ha de tenir acces al codi font del mateix.</p> <p>Es pot aprofundir mes del tema clicant aquest enllac.</p>"},{"location":"sprint4/#gpl-gnu-general-public-license-v30","title":"GPL (GNU General Public License v3.0)","text":"<ul> <li>Creat per la Free Software Foundation (FSF).</li> <li>Garanteix que el programari sigui lliure i que qualsevol obra derivada tambe ho sigui.</li> <li>Obliga a compartir el codi font de les modificacions.</li> <li>Exemples: Linux Kernel, WordPress, VLC Media Player.</li> </ul>"},{"location":"sprint4/#lgpl-lesser-general-public-license","title":"LGPL (Lesser General Public License)","text":"<ul> <li>Variant mes permissiva de la GPL.</li> <li>Permet enllacar llibreries de programari lliure amb programari privatiu.</li> <li>Exemples: OpenSSL, FFmpeg</li> </ul>"},{"location":"sprint4/#mit-license","title":"MIT License","text":"<ul> <li>Molt permissiva i compatible amb altres llicencies</li> <li>Permet l'us, modificacio i distribucio amb la condicio d'incloure la llicencia original.</li> <li>No obliga a fer el codi derivat lliure.</li> <li>Exemples: Node.js, Ruby on Rails.</li> </ul>"},{"location":"sprint4/#apache-license-20","title":"Apache License 2.0","text":"<ul> <li>Similar a la MIT, pero afegeix proteccions legals en cas de patents.</li> <li>Permet l'us comercial i modificacions sense obligacio de fer-les publiques.</li> <li>Exemples: Apache HTTP Server, Android (part del codi), TensorFlow.</li> </ul>"},{"location":"sprint4/#propietat-intelectual-i-copyright","title":"Propietat Intelectual i Copyright","text":""},{"location":"sprint4/#propietat-intelectual","title":"Propietat Intelectual","text":"<p>La propietat intelectual son els drets que tenen els autors sobre les seves creacions. En el cas del programari, es considera una obra de caracter literari i queda protegida automaticament des del moment que es crea.  La propietat intelectual en Espanya esta regulada per la LLei de Propietat Intelectual."},{"location":"sprint4/#drets-dautors","title":"Drets d'autors","text":"<p>Els drets d'autor son el conjunt de normes que protegeixen les obres creatives i els seus autors. Esta regulada per LLei de Propietat Intelectual i inclou llibres, musica, programari, pelicules, fotografia i obres artistiques.  Els drets d'autor es divideixen en drets morals els quals son irrevocables i drets patrimonials els quals es poden transferir a un tercer:</p> <ol> <li> <p>Drets morals (Irrevocables):</p> <ul> <li>Dret de reconeixement: l'autor te dret a ser identificat com a creador de l'obra.</li> <li>Dret d'integritat: Es protegeix l'obra de modificacions que puguin perjudicar-ne l'essencia o el significat.</li> <li>Dret de modificacio: L'autor pot canviar l'obra si ho desitja.</li> <li>Dret de retirada: l'autor pot retirar l'obra del mercat per raons personals, compensant possibles perjudicis a tercers.</li> <li>Dret d'acces: l'autor pot accedir a l'obra original encara que la propietat material pertanyi a una altra persona.</li> </ul> </li> <li> <p>Drets patrimonials (Transferibles):</p> <ul> <li>Dret de reproduccio: l'autor pot controlar la copia de l'obra en qualsevol format.</li> <li>Dret de distribucio: L'autor decideix com i on es ven o distribueix l'obra.</li> <li>Dret de comunicacio publica: l'autor pot regular l'exhibicio publica de l'obra.</li> <li>Dret de transformacio: nomes l'autor pot autoritzar modificacions de l'obra.</li> </ul> </li> </ol>"},{"location":"sprint4/#proteccions","title":"Proteccions","text":"<p>El programati esta protegit per la LLei de Propietat Intelectual i per les normatives europees, com la Directiva 2009/24/CE. </p> <p>El desenvolupador o l'empresa obte les proteccions als seguents punts:</p> <ul> <li>Codi font i compilat.</li> <li>Interficie grafica: en alguns casos tambe pot estar protegida.</li> <li>Documentacio tecnica i manuals d'usuari.</li> </ul>"},{"location":"sprint4/#durada","title":"Durada","text":"<p>La durada pot variar si el programa pertany a un autor o auna empresa (obra colectiva). </p> <p>Drets d'explotacio / Drets patrimonials:</p> <ul> <li>Empresa (obra colectiva): 70 anys des de la seva publicacio.</li> <li>Autor: tota la vida de l'autor mes 70 anys de la seva mort.</li> </ul> <p>Drets morals:</p> <ul> <li>Son permanents i inalterables.</li> </ul>"},{"location":"sprint4/#excepcions-i-usos-permesos","title":"Excepcions i usos permesos","text":"<p>Hi ha algunes situacions en que es pot utilitzar una obra sense permis de l'autor:</p> <ul> <li>Cita i parodia: es pot citar una obra per a finalitats docents, informatives o critiques. Tambe es permet la parodia sense afectar la reputacio de l'autor.</li> <li>Us en educacio: Les institucions educatives poden utilitzar fragments d'obres sense anim de lucre.</li> <li>Llicencies lliures: l'autor pot optar per llicenciar el seu programari sota llicencies publiques. Aquest cas no revoca els drets d'autor.</li> </ul>"},{"location":"sprint4/#secret-comercial","title":"Secret Comercial","text":"<p>El secret comercial es qualsevol informacio confidencial que una empresa utilitza per obtenir un avantatge competitiu i que no es coneguda pel public. Aquesta informacio pot incloure metodes, formules, processos, estrategies empresarials, programari propietari, etc. </p> <p>Les caracteristiques mes importants del secret comercial son:</p> <ul> <li>Confidencialitat: no ha de ser de coneixement public.</li> <li>Valor economic: ha de donar un avantatge competitiu.</li> <li>Proteccio: l'empresa ha de prendre mesures per a mantenir-lo en secret.</li> </ul>"},{"location":"sprint4/#proteccio-legals","title":"Proteccio legals","text":"<p>El secret comercial esta protegit per la Llei de Secrets Empresarials basada en la Directiva 2016/943 de la UE. </p> <p>Els punts mes importants son:</p> <ul> <li>No requereix registre oficial: no es requereix ja que es protegeix per mitjans interns.</li> <li>Proteccio contra l'us no autoritzat: l'us indegut o divulgacio per part de treballadors, ex-empleats o competidors pot ser denunciat.</li> <li>Proteccio indefinida: a diferencia de les patents (20 anys de proteccio legal) el secret comercial pot durar de forma indefinida si es mante confidencial.</li> </ul>"},{"location":"sprint4/#proteccio-interna","title":"Proteccio interna","text":"<p>Les empreses implementen mesures de seguretat internes per evitar filtracions indegudes, la majoria utilitza les seguents:</p> <ul> <li>Contractes de confidencialitat (NDA): contractes que obliguen al treballador i socis a no revelar informacio.</li> <li>Restriccions d'acces: nomes els empleats necessaris poden accedir a l'informacio.</li> <li>Xifratge i seguretat informatica: apliquen algoritmes de xifratge als documents i politiques de seguretat necessaries.</li> </ul>"},{"location":"sprint4/#patents-i-models-dutilitat","title":"Patents i models d'utilitat","text":""},{"location":"sprint4/#patents","title":"Patents","text":"<p>Les patents protegeixen invencions relacionades amb metodes o processos innovadors que poden ser implementats.  Els requisits son els seguents:</p> <ul> <li>Invencio nova.</li> <li>Inventiva (que no sigui obvia per a un expert de la materia).</li> <li>Aplicable industrialment.  La durada es de 20  des de la solicitud amb el pagament de taces de manteniment.</li> </ul>"},{"location":"sprint4/#models-dutilitat","title":"Models d'utilitat","text":"<p>Els models d'utilitat poden protegir millores funcionals de un programa o patents existent.  Els requisits son els seguents:</p> <ul> <li>Nou i utilitat</li> <li>No cal que sigui tan inventiu com una patents  La durada es inferior a la de una patent, en aquest cas 10 anys.</li> </ul>"},{"location":"sprint4/#diferencies-clau","title":"Diferencies clau","text":"Caracter\u00edstica Patent (Programari) Model d'Utilitat (Programari) Requisits Alta innovaci\u00f3 i inventiva Millores funcionals, menys rigor\u00f3s Durada 20 anys 10 anys Tipus d'invenci\u00f3 M\u00e8todes o processos nous Millores de programari existent"}]}