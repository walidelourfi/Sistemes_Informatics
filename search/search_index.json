{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"SISTEMES INFORM\u00c0TICS","text":""},{"location":"#index","title":"\u00cdNDEX","text":"<p>Sprint 1</p> <p>Sprint 2</p>"},{"location":"sprint1/","title":"Sprint 1","text":""},{"location":"sprint1/#installacio-so-ubuntu-24","title":"Instal\u00b7lacio SO Ubuntu 24","text":"<p>Primer de tot, configurem la m\u00e0quina virtual.  En aquest cas, s'ha utilitzat les seg\u00fcents especificacions. </p> <p>Per poder posar la xarxa NAT, primer creem una xarxa. </p> <p>I creem una xarxa amb un nom. </p> <p>Escollim instal\u00b7laci\u00f3 manual. </p> <p>Posem les diferents particions que necessitem. En aquest cas s'ha triat 5 GB de swap, ja que podria ser que la m\u00e0quina es qued\u00e9s sense mem\u00f2ria. 10 GB de home, ja que hi ha diferents usuaris que utilitzaran aquest ordinador i tota la informaci\u00f3 que tenen es guardar\u00e0 all\u00ed. Finalment, 10 GB d'arrel, ja que sol contindr\u00e0 les aplicacions necess\u00e0ries dels usuaris. </p> <p>Finalment, tindrem les seg\u00fcents especificacions de m\u00e0quina quant a SO. </p>"},{"location":"sprint1/#configuracio-xarxa","title":"Configuracio Xarxa","text":"<p>Primer de tot, posem la configuraci\u00f3 manual des de par\u00e0metres. </p> <p>I comprovem que funciona. </p> <p>Per poder canviar la IP de forma manual des dels arxius de configuraci\u00f3 de linux,  anem a /etc/netplan/ i modifiquem el arxiu 01-network. </p> <p>Per poder aplicar els canvis, escrivim la comanda netplan apply. </p> <p>I comprovem que tenim la nova IP i connexi\u00f3 a internet. </p>"},{"location":"sprint1/#punts-de-restauracio","title":"Punts de restauracio","text":""},{"location":"sprint1/#timeshift","title":"TimeShift","text":"<p>Primer instal\u00b7lem TimeShift amb apt. </p> <p>Entrem i creem una snapshot. </p> <p>Podrem comprovar que se'ns ha creat una instant\u00e0nia amb el dia i hora de creaci\u00f3. </p> <p>Instal\u00b7lem GParted per comprovar la restauraci\u00f3. </p> <p>Per restaurar, escollim el snapshot i cliquem a restaurar. </p> <p>Ens mostrar\u00e0 els arxius que es modificaran, crearan o s'eliminaran. </p> <p>Despr\u00e9s, es reiniciar\u00e0 l'ordinador. </p> <p>Finalment, podem veure que gparted no esta. </p>"},{"location":"sprint1/#btrfs","title":"BTRFS","text":"<p>\u00c9s un sistema de volums els quals es poden fer snapshots de solament carpetes que existeixen dintre dels volums.</p>"},{"location":"sprint1/#gestor-darrancada","title":"Gestor d'arrancada","text":""},{"location":"sprint1/#gpt-i-mbr","title":"GPT i MBR","text":"<p>GPT i MBR s\u00f3n dos sistemes de particionatge de discs.</p> <p>GPT i MBR s'inicien al principi tant per a carregar el SO com per a saber on comencen i acaben les particions del disc.</p>"},{"location":"sprint1/#mbr","title":"MBR","text":"<p>Master Boot Record \u00e9s el sistema de particionatge m\u00e9s antic dels dos. Est\u00e0 utilitzat per sistemes antics, sistemes amb BIOS i Windows.</p> <p>Est\u00e0 situat al principi del disc i cont\u00e9: - Bootloader: programa petit per a iniciar el SO. - Taula de particions: mapa on es guarda les direccions de les particions.</p> <p>Les principals caracter\u00edstiques s\u00f3n: - Sol pot tindre 4 particions prim\u00e0ries. - Una de les particions prim\u00e0ries ha de ser activa i, per tant, contenir el SO. - Una de les particions pot ser estesa i contenir m\u00e9s particions dintre. - M\u00e0xim de 2TB per a cada partici\u00f3. </p>"},{"location":"sprint1/#gpt","title":"GPT","text":"<p>GUID Partition Table \u00e9s un est\u00e0ndard de particions, i el m\u00e9s nou dels dos. Est\u00e0 utilitzat per sistemes m\u00e9s nous amb UEFI i sistemes 64 bits, tamb\u00e9 l'utilitza Linux.</p> <p>Cont\u00e9: - MBR protectiu: perqu\u00e8 els sistemes m\u00e9s antics no pensis que el disc est\u00e0 sense particionar i arrencar el SO. - Header: Es guarda la informaci\u00f3 de les particions i de recuperaci\u00f3. - Entrada de cada partici\u00f3.</p> <p>Les principals caracter\u00edstiques s\u00f3n: - 128 particions. - M\u00e0xim de 256TB per partici\u00f3. - La taula de particions es clona a una altra part del disc. </p>"},{"location":"sprint1/#installacio-dual","title":"Instal\u00b7laci\u00f3 DUAL","text":"<p>Sempre que es fa una instal\u00b7laci\u00f3 dual s'instal\u00b7la primer el sistema m\u00e9s antic i despr\u00e9s el m\u00e9s nou. Si \u00e9s una arrancada dual de Windows i Linux, primer s'instal\u00b7la Windows i despr\u00e9s Linux per a poder tenir compatibilitat. Si un dels dos sistemes no arranca. El m\u00e9s segur \u00e9s que el sistema nou ha esborrat el gestor d'arrancada del primer, s'haur\u00e0 de recuperar el gestor.</p>"},{"location":"sprint1/#grub","title":"GRUB","text":"<p>GRand Unified Bootloader, \u00e9s un dels gestors d'arrancada m\u00e9s populars per a Linux. Serveix per a arrancar el SO des del MBR del disc.</p> <p>GRUB funciona en tres etapes: - La primera etapa es troba al MBR i apunta a la resta del GRUB per a poder carregar de forma correcta el sistema de fitxers i SO. - La segona etapa es m\u00e9s complex i s'encarrega de mostrar un men\u00fa amb el SO disponibles (si hi ha un passa directament a la seg\u00fcent etapa) i iniciar el sistema de fitxers. - L'\u00faltima etapa, s'encarrega d'arrencar el SO, en cas de Linux, inicia el kernel i el initrd.</p>"},{"location":"sprint1/#restaurar-grub","title":"Restaurar GRUB","text":"<p>Primer de tot, esborrem la carpeta de GRUB. </p> <p>Si reiniciem la m\u00e0quina, podem veure que no troba el bootloader </p>"},{"location":"sprint1/#bootrepair","title":"BootRepair","text":"<p>Introdu\u00efm l'ISO de bootrepair i iniciem de nou la m\u00e0quina. Al principi, revisar\u00e0 l'estat de la m\u00e0quina. </p> <p>Despr\u00e9s d'una comprovaci\u00f3, podrem iniciar la reparaci\u00f3 autom\u00e0tica o que ens mostri l'informaci\u00f3 sobre l'error. </p> <p>Si escollim reparaci\u00f3 autom\u00e0tica, ens donar\u00e0 l'opci\u00f3 de pujar i visualitzar l'informe de l'error i com s'ha arreglat. </p> <p>Despr\u00e9s d'uns quants minuts, s'ha arreglat el grub. Tamb\u00e9 ens mostrar\u00e0 el link per visualitzar l'informe. </p> <p>En aquest cas, l'informe ens mostra que ha reinstal\u00b7lat el grub. </p> <p>Finalment, podrem tornar a iniciar el SO. </p>"},{"location":"sprint1/#super-grub2","title":"Super GRUB2","text":"<p>Introdu\u00efm l'ISO de s\u00faper GRUB2 i iniciem la m\u00e0quina. Escollim l'opci\u00f3 d'arrancar manualment. </p> <p>Seguidament, escollim que ens mostri els SO instal\u00b7lats. </p> <p>I escollim Linux. En aquest cas sol est\u00e0 aquest SO. </p> <p>Entrem a la terminal i instal\u00b7lam GRUB. </p> <p>Finalment, actualitzem GRUB per a crear el seu fitxer de configuraci\u00f3 i trobar els SO instal\u00b7lats. </p>"},{"location":"sprint1/#gestors-de-paquets","title":"Gestors de Paquets","text":"<p>Els gestors de paquets s\u00f3n software el qual automatitza el maneig de paquets per instal\u00b7lar, desinstal\u00b7lar i actualitzar software.</p>"},{"location":"sprint1/#apt","title":"APT","text":""},{"location":"sprint1/#actualitzacions","title":"Actualitzacions","text":"<p>Per actualitzar els links als repositoris, escrivim apt update. </p> <p>Instal\u00b7lem els paquets actualitzats, juntament amb les depend\u00e8ncies necess\u00e0ries amb apt dist-upgrade. </p>"},{"location":"sprint1/#installacio","title":"Instal\u00b7laci\u00f3","text":"<p>Per instal\u00b7lar utilitzem la comanda apt install (paquet).</p> <p></p>"},{"location":"sprint1/#desinstallacio","title":"Desinstal\u00b7laci\u00f3","text":"<p>Per desinstal\u00b7lar un paquet, escrivim apt remove (paquet). Encara que hagu\u00e9ssim desinstal\u00b7lat el paquet, les depend\u00e8ncies i configuracions instal\u00b7lades continuaran a l'equip.</p> <p></p> <p>Si volem treure les configuracions, escrivim apt purge (paquet). </p> <p>Si volem desinstal\u00b7lar les depend\u00e8ncies, escrivim la comanda apt autoremove. Aquesta comanda borra tots els paquets que l'equip no necessita.</p> <p></p>"},{"location":"sprint1/#versions","title":"Versions","text":"<p>Per veure la versi\u00f3 d'un paquet, escrivim la comanda apt-cache policy (paquet). </p>"},{"location":"sprint1/#pinning-packets","title":"Pinning Packets","text":"<p>Aquest m\u00e8tode consisteix a posar certes prioritats a diferents versions d'un paquet. Primer mirem quina versi\u00f3 de paquet tenim. En aquest cas, nmap t\u00e9 la versi\u00f3 7.94 amb una prioritat de 500. </p> <p>Per posar diferents versions, creem un nou fitxer a la carpeta.</p> <pre>\n<code>\n/etc/apt/preferences.d/\n</code>\n</pre> <p>Dintre del fitxer, escrivim les seg\u00fcents l\u00ednies.</p> <pre>\n<code>\nPackage: (nom paquet)\nPin: version (versio)\nPin-priority: (num prioritat)\n</code>\n</pre> <p>Exemple utilitzant el paquet nmap. </p> <p>En pin priority, la prioritat es dona al n\u00famero m\u00e9s baix.</p> <p>Finalment, si mirem la pol\u00edtica del paquet, podem veure que s'ha canviat la prioritat. </p>"},{"location":"sprint1/#arreglar-installacions","title":"Arreglar Instal\u00b7lacions","text":"<p>Per arreglar instal\u00b7lacions, escrivim la comanda apt -f install. </p>"},{"location":"sprint1/#aptitude","title":"Aptitude","text":""},{"location":"sprint1/#installacio_1","title":"Instal\u00b7laci\u00f3","text":"<p>Per instal\u00b7lar amb aptitude utilitzem la comanda aptitude install (paquet). </p>"},{"location":"sprint1/#desinstalar","title":"Desinstalar","text":"<p>Per desinstal\u00b7lar, escrivim la comanda aptitude remove (paquet). </p> <p>Si desinstal\u00b7lem un paquet amb depend\u00e8ncies, tamb\u00e9 es desinstal\u00b7laran. </p>"},{"location":"sprint1/#versions_1","title":"Versions","text":"<p>Per veure la versi\u00f3 dels paquets escrivim aptitude show (paquet). </p>"},{"location":"sprint1/#dpkg","title":"DPKG","text":"<p>En aquest gestor de paquets, es treballa directament amb arxius .deb.</p>"},{"location":"sprint1/#installar","title":"Instal\u00b7lar","text":"<p>Per instal\u00b7lar paquets escrivim dpkg -i (paquet). </p>"},{"location":"sprint1/#desinstallar","title":"Desinstal\u00b7lar","text":"<p>Per desinstal\u00b7lar, escrivim la comanda dpkg -r (paquet), igual que APT, no esborrara la configuraci\u00f3 de l'aplicaci\u00f3. </p> <p>Si volem desinstal\u00b7lar i esborrar la configuraci\u00f3, escrivim dpkg -P (paquet). </p>"},{"location":"sprint1/#versions_2","title":"Versions","text":"<p>Per veure la versi\u00f3 del paquet instal\u00b7lat, escrivim dpkg -s (paquet).</p>"},{"location":"sprint1/#comprovacions","title":"Comprovacions","text":"<p>Si volem veure si tenim un paquet instal\u00b7lat, escrivim la comanda dpkg --select-selections | grep (paquet). Si el paquet est\u00e0 instal\u00b7lat, ens mostrar\u00e0 el nom del paquet. </p> <p>Si no est\u00e0 instal\u00b7lat, no ens sortir\u00e0 res. </p>"},{"location":"sprint1/#repositoris","title":"Repositoris","text":"<p>Amb APT es poden afegir repositoris que no estiguin o versions alternatives d'aquesta. Primer afegim la l\u00ednia add-apt-repository ppa:(paquet)/(versio). </p> <p>PPA \u00e9s la forma en qu\u00e8 desenvolupadors individuals i equips de distribuir el seu sistema sense estar dins d'un gestor de paquets. Amb aquesta comanda hem afegit a la llista de repositoris el paquet, per a poder instal\u00b7lar-lo, actualitzem la llista. </p> <p>En la carpeta /etc/apt/sources.list.d podrem veure que s'ha creat l'arxiu el qual t\u00e9 la informaci\u00f3 del repositori. </p> <p>Si fem un cat per veure l'arxiu, podrem veure que cont\u00e9 el tipus de paquet, el link on descarregar-ho i la clau p\u00fablica. </p> <p>A l'haver afegit l'arxiu el podrem instal\u00b7lar com qualsevol altre repositori d'APT. </p>"},{"location":"sprint1/#compilar","title":"Compilar","text":"<p>Es pot compilar el codi sense necessitat d'un gestor de paquets, hi ha diferents maneres, per\u00f2 aquestes dues s\u00f3n les m\u00e9s utilitzades.</p>"},{"location":"sprint1/#targz","title":"tar.gz","text":"<p>Descarreguem un arxiu tar.gz i escrivim la comanda tar xvzf (arxiu). </p> <p>Dependentment de cada aplicaci\u00f3, l'arxiu d'instal\u00b7laci\u00f3 ser\u00e0 diferent, en aquest cas executem l'arxiu Discord. </p>"},{"location":"sprint1/#make-i-cmake","title":"make i cmake","text":"<p>Descarreguem o clonem la carpeta. </p> <p>Dintre de la carpeta, podrem veure un arxiu cmake.config, aquest arxiu indica com ha de compilar i instal\u00b7lar el programa a la comanda cmake. </p> <p>Instal\u00b7lem make i cmake, en aquest cas, neovim tamb\u00e9 necessita el paquet gettext per compilar. Com indica a la p\u00e0gina oficial de neovim, primer escriurem la comanda make (configuraci\u00f3 espec\u00edfica). En aquest cas, la configuraci\u00f3 espec\u00edfica \u00e9s opcional, ja que mostra que est\u00e0 fent la comanda make i poder entendre si hi ha algun error. </p> <p>Finalment, escrivim la comanda make install. </p>"},{"location":"sprint2/","title":"Sprint 2","text":""},{"location":"sprint2/#gestio-de-procesos","title":"Gesti\u00f3 de Procesos","text":""},{"location":"sprint2/#identificacio-de-procesos","title":"Identificaci\u00f3 de procesos","text":"<p>Per identificar procesos en temps real podem utilitzar la seg\u00fcent comanda:</p> <pre>\n<code>\n(sudo) top\n</code>\n</pre> <p></p> <p>Tamb\u00e9 es pot servir aquest altre:</p> <pre>\n<code>\n(sudo) htop\n</code>\n</pre> <p></p> <p>Tamb\u00e9 podem veure els procesos i els fills en forma de arbre, aquesta vegada no es en temps real amb la seg\u00fcent comanda:</p> <pre>\n<code>\n(sudo) pstree\n</code>\n</pre> <p>Utilitzant pstree, podem veure que alguns processos provenen d'altres, aquests processos es diuen procesos fills. </p>"},{"location":"sprint2/#filtratge","title":"Filtratge","text":"<p>Per filtrar els procesos amb pstree podem utilitzar -p -h i ajuntar amb grep.</p> <ul> <li>p s'utilitza per visualitzar el PID (Process ID) de cada proces.</li> <li>h subralla el proc\u00e9s que estem buscant.</li> </ul> <p></p>"},{"location":"sprint2/#matar-processos","title":"Matar processos","text":"<p>Per matar processos s'utilitza la seg\u00fcent comanda:</p> <pre>\n<code>\n(sudo) kill [PID]\n</code>\n</pre> <p>Aquesta comanda envia una petici\u00f3 per que el programa tanqui. A vegades pot no funcionar i s'hauria de for\u00e7ar amb la seg\u00fcent comanda:</p> <pre>\n<code>\n(sudo) kill -9 [PID]\n</code>\n</pre>"},{"location":"sprint2/#treballs","title":"Treballs","text":"<p>Quan un proces es pausa utilitzant ctrl + z, es posa en segon pla i es diu treball. Es pot canviar l'estat dels treballs amb les seguents comandes:</p> <pre>\n<code>\njobs //Llista els treballs \n</code>\n</pre> <p></p> <p>Al llistar, es mostra el numero del treball ([1]+), l'estat en que es troba (Aturat), i a quina comanda es refereix (top).</p> <pre>\n<code>\nfg %[number] //Continua el proces indicat amb el numero de treball.\n</code>\n</pre> <pre>\n<code>\nkill %[number] //Mata el proces indicat amb el numero de treball.\n</code>\n</pre>"},{"location":"sprint2/#gestio-dusuaris","title":"Gesti\u00f3 d'usuaris","text":""},{"location":"sprint2/#usuaris","title":"Usuaris","text":"<p>Un usuari es una identitat que representa a una persona dintre del sistema el qual t\u00e9 permisos i rols.  Dintre del sistema poden haber mes de un usuari, al treballar en sistemes monolloc no es poden connectar de forma simult\u00e0nea.  En cada sistema sempre hi haur\u00e0 un usuari amb tots els permisos possibles, root.</p>"},{"location":"sprint2/#grups","title":"Grups","text":"<p>Els grups s\u00f3n un conjunt de usuaris per a facilitar la gesti\u00f3 de forma col\u00b7lectiva.  Cada usuari es crea amb un grup amb el mateix nom que aquest i s'assigna com el principal.  Cada usuari t\u00e9 un grup principal, aquest es el grup per defecte que s'assigna com a grup amb permisos per elements creats per l'usuari.  El grup amb m\u00e9s permisos es el grup sudo, aquest grup pot invocar a root utilitzant la comanda sudo.</p>"},{"location":"sprint2/#gestio-grafica","title":"Gesti\u00f3 Gr\u00e0fica","text":"<p>La majoria de configuracions que utilitzariem el dia a dia es pot fer en interficie grafica instalant el seguent paquet.</p> <pre>\n<code>\n(sudo) apt install gnome-system-tools\n</code>\n</pre> <p>Busquem l'aplicacio de gestio d'usuaris. </p> <p>En aquest menu, podem gestionar els usuaris, en aquest cas, solament esta el usauri walid. </p> <p>Per crear un usuari nou, cliquem add en el menu i escribim el nom de l'usuari. </p> <p>Introduim una contrasenya. </p> <p>Finalment, podem veure l'usuari creat. </p>"},{"location":"sprint2/#fitxers-implicats","title":"Fitxers Implicats","text":"<p>Aquests, son els fitxers implicats en confirmar els nostres canvis, no es recomana en cap cas modificar els arxius.   Tots els fitxers estan dintre de la carpeta /etc.</p>"},{"location":"sprint2/#passwd","title":"passwd","text":"<p>Es guarda la informacio publica de cada usuari del sistema.  Cada linea indica un usuari, la informacio esta separada per un signe de doble puntuacio (:). </p> <p>Cada apartat (que esta separat per :) representa el seguent.</p> <p></p> <pre>\n<code>\nusuari:contrasenya:UID:GID:gecos:directori_home:shell\n</code>\n</pre> <ul> <li>Usuari: indica el nom de l'usuari.</li> <li>Contrasenya: indica amb un * o X si la contrasenya esta guardada en format hash a l'arxiu shadow, si no hi ha res, indica que no hi ha contrasenya.</li> <li>UID: ID de l'usuari dintre del sistema.</li> <li>GID: ID del grup principal de l'usuari.</li> <li>Gecos: es mostra la informacio addicional de l'usuari (nom complet, numero telefon, etc).</li> <li>Directori_home: indica la ruta completa on s'allotja el directori principal de l'usuari.</li> <li>Shell: indica l'interpretador shell utilitzat per l'usauri.</li> </ul> <p></p>"},{"location":"sprint2/#group","title":"group","text":"<p>Es guarda la informacio sobre els grups del sistema. </p> <p>Cada apartat (que esta separat per :) representa el seguent.</p> <p></p> <pre>\n<code>\ngrup:contrasenya:GID:usuaris\n</code>\n</pre> <ul> <li>Grup: indica el nom del grup.</li> <li>Contrasenya: indica si el grup te contrasenya contenent una X, si aquest no esta, significa que no hi ha contrasenya.</li> <li>Usuaris: mostra els usuaris dintre del grup.</li> </ul> <p></p>"},{"location":"sprint2/#shadow","title":"shadow","text":"<p>Es guarda la informacio relacionada amb la seguretat de cada usuari.   Es mes segur que passwd al solament poder accedir amb privilegis de root.</p> <p>Cada apartat (que esta separat per :) representa el seguent.</p> <p></p> <pre>\n<code>\nusuari:contrasenya:ultim_canvi:dies_minims:dies_maxims:dies_avis:dies_inactivitat:data_expiracio\n</code>\n</pre> <ul> <li>Usuari: indica el nom de l'usuari</li> <li>Contrasenya: mostra la contrasenya en format hash. Si es mostra un ! significa que l'usuari esta bloquejat i no pot accedir. Si es mostra un * significa que l'usuari esta desabilitat o no te contrasenya.</li> <li>Ultim_canvi: mostra la data del ultim canvi de contrasenya realitzat.</li> <li>Dies_minims: dies minims que han de passar abans de poder canviar la contrasenya.</li> <li>Dies_maxims: dies maxims el qual una contrasenya es valida fins que s'ha de canviar.</li> <li>Dies_avis: dies abans de l'expiracio de la contrasenya el qual s'avisa a l'usuari.</li> <li>Dies_inactivitat: dies marge amb la contrasenya expirada abans de bloquejar l'usuari.</li> </ul> <p></p>"},{"location":"sprint2/#gshadow","title":"gshadow.","text":"<p>Es guarda la informacio relacionada amb la seguretat de cada grup.   Es mes segur que group al solament poder accedir amb privilegis de root.</p> <p>Cada apartat (que esta separat per :) representa el seguent.</p> <p></p> <pre>\n<code>\ngrup:contrasenya:administradors:usuaris\n</code>\n</pre> <ul> <li>Grup: indica el nom del grup</li> <li>Contrasenya: mostra la contrasenya en format hash. Si es mostra un ! significa que el grup esta bloquejat i no pot accedir. Si es mostra un * significa que el grup no te contrasenya.</li> <li>Administradors: llista d'usuaris administradors del grup separat per comes.</li> <li>Usuaris: llista d'usuaris del grup separat per comes.</li> </ul>"},{"location":"sprint2/#afegir-un-usuari","title":"Afegir un usuari","text":"<p>Per afegir un usuari escrivim la seg\u00fcent comanda i introduim la contrasenya i l'informaci\u00f3 addicional. Aquesta comanda, et guia i crea els parametres per defecte per crear un usuari.</p> <pre>\n<code>\n(sudo) adduser [usuari]\n</code>\n</pre> <p></p> <p>Al utilitzar la comanda id, podem veure que el usuari s'ha creat amb el seu user id juntament amb el seu propi grup principal i el seu group id.</p> <p></p> <p></p> <p>Una altra forma, sense cap tipus de guia i parametres creats seria:</p> <pre>\n<code>\n(sudo) useradd [usuari]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#configurar-usuari-desde-0","title":"Configurar usuari desde 0","text":"<p>Per configurar un usuari desde 0, escribim la seguent comanda:</p> <pre>\n<code>\n(sudo) useradd [usuari]\n</code>\n</pre> <p></p> <p>Establim la contrasenya amb la seguent comanda:</p> <pre>\n<code>\n(sudo) passwd [usuari]\n</code>\n</pre> <p></p> <p>Establim el shell del usuari amb la seguent comanda:</p> <pre>\n<code>\n(sudo) usermod -s [shell] [usuari]\n</code>\n</pre> <p></p> <p>Per a establir la carpeta home, primer la creem i posem com a propietari el usuari i el seu grup principal, seguidament escribim aquesta comanda:</p> <pre>\n<code>\n(sudo) usermod -d [ruta absoluta de la carpeta home] [usuari]\n</code>\n</pre> <p></p> <p>Si estem en Ubuntu Desktop, la millor manera per comprovar si hem configurat de forma correcta al usuari es entrant amb l'interficie grafica.</p> <p></p>"},{"location":"sprint2/#modificar-contrasenya","title":"Modificar contrasenya","text":"<p>Per modificar la contrasenya, podem utilitzar la seg\u00fcent comanda</p> <pre>\n<code>\n(sudo) passwd [usuari]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#modificar-nom","title":"Modificar nom","text":"<p>Per modificar el nom d'un usuari, escrivim la seguent comanda:</p> <pre>\n<code>\n(sudo) usermod -l [nou nom d'usuari] [usuari]\n</code>\n</pre> <p></p> <p>Mirant l'arxiu /etc/passwd, podem comprovar que l'usuari ha canviat de nom, pero no els altres parametres.</p> <p></p>"},{"location":"sprint2/#borrar-usuari","title":"Borrar usuari","text":"<p>Per esborrar un usuari, podem utilitzar la seg\u00fcent comanda. Aquesta comanda solament borra el usuari, per\u00f2 no els directoris i altres parametres d'aquest.</p> <pre>\n<code>\n(sudo) deluser [usuari]\n</code>\n</pre> <p></p> <p>Per borrar el directori i altres parametres del usuari, utilitzem la seg\u00fcent comanda.</p> <pre>\n<code>\n(sudo) deluser -r [usuari]\n</code>\n</pre> <p></p> <p>Com l'usuari no tenia una carpeta de mail, no el pot borrar.</p>"},{"location":"sprint2/#bloquejar-usuari","title":"Bloquejar usuari","text":"<p>Per a bloquejar un usuari, escrivim la seguent comanda:</p> <pre>\n<code>\n(sudo) usermod -L [usuari]\n</code>\n</pre> <p></p> <p>Podem veure que l'usuari esta bloquejat al no surtir en la llista d'usuaris per iniciar sessio.</p> <p></p> <p>Tampos ens deixara connectar-nos amb su.</p> <p></p>"},{"location":"sprint2/#desbloquejar-usuari","title":"Desbloquejar usuari","text":"<p>Per desbloquejar un usuari, escrivim la seguent comanda:</p> <pre>\n<code>\n(sudo) usermod -U [usuari]\n</code>\n</pre> <p></p> <p>Al desbloquejar l'usuari, podem veure que ja podem connectar-nos per su.</p> <p></p> <p>I tambe per interficie grafica.</p> <p></p>"},{"location":"sprint2/#politica-de-caducitat","title":"Politica de caducitat","text":"<p>Per a establir o modificar politiques de caducitat de cada usuari, utilitzarem la seguent comanda:</p> <pre>\n<code>\n(sudo) chage [opcions] [usuari]\n</code>\n</pre>"},{"location":"sprint2/#interactiu","title":"Interactiu","text":"<p>Podem configurar la politica de caducitat de forma interactiva amb la seguent comanda:</p> <pre>\n<code>\n(sudo) chage [usuari]\n</code>\n</pre> <p></p> <ul> <li>Minimum Password Age: dies minims que han de passar abans de canviar de contrasenya.</li> <li>Maxim Password Age: dies maxims que poden passar sense canviar la contrasenya.</li> <li>Last Password Change: Ultima vegada que es va canviar la contrasenya del usuari.</li> <li>Password Expiration Warning: dies abans de l'expiracio de la contrasenya el qual s'avisa a l'usuari.</li> <li>Password Inactive: dies que l'usuari encara pot entrar al compte amb la contrasenya caducada. -1 significa que no hi ha marge.</li> <li>Account Expiration Date: data de caducitat del compte.</li> </ul>"},{"location":"sprint2/#carpetes-de-configuracio-dusuari","title":"Carpetes de configuracio d'usuari","text":""},{"location":"sprint2/#skel","title":"skel","text":"<p>Aquesta carpeta esta ubicada en /etc/skel/, el contingut dintre de la carpeta sera copiat dintre de la carpeta home de cada usuari del sistema. Qualsevol canvi, s'aplicara a cada usuari nou creat despres del canvi.</p> <p></p>"},{"location":"sprint2/#profile","title":".profile","text":"<p>Aquest arxiu es un script que s'ubica tant a /etc/skel/ com a totes les carpetes home dels usuaris. Serveix per a configurar les variables de l'entorn de l'usuari al iniciar sessio.</p> <p></p>"},{"location":"sprint2/#bashrc","title":".bashrc","text":"<p>Aquest arxiu es un script que s'ubica tant a /etc/skel/ com a totes les carpetes home dels usuaris. Serveix per a configurar cada terminal oberta per l'usuari.</p> <p></p> <p>Com l'arxiu es bastant extes, la imatge sol mostra una petita configuracio de alias.</p>"},{"location":"sprint2/#bash_logout","title":".bash_logout","text":"<p>Aquest arxiu es un script que s'ubica tant a /etc/skel/ com a totes les carpetes home dels usuaris. Aquest script s'executa quan un usuari tanca sessio.</p> <p></p>"},{"location":"sprint2/#logindefs","title":"login.defs","text":"<p>Aquest arxiu s'ubica en /etc/login.defs. Serveix per a configurar les configuracions i politiques per defecte dels usuaris.</p>"},{"location":"sprint2/#adduserconf","title":"adduser.conf","text":"<p>Aquest arxiu s'ubica en /etc/adduser.conf. Serveix per a configurar les configuracions al crear usuaris amb adduser i grups amb addgroup.</p>"},{"location":"sprint2/#crear-grups","title":"Crear grups","text":"<p>Per a crear un grup utilitzarem la seguent comanda:</p> <pre>\n<code>\n(sudo) addgroup [grup]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#afegir-usuaris-a-un-grup","title":"Afegir usuaris a un grup","text":"<p>Hi han tres metodes per afegir un usuari a un grup:</p>"},{"location":"sprint2/#gpasswd","title":"GPASSWD","text":"<p>Podem utilitzar la comanda gpasswd:</p> <pre>\n<code>\n(sudo) gpasswd -a [user] [group]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#adduser","title":"ADDUSER","text":"<p>Podem utilitzar la comanda adduser:</p> <pre>\n<code>\n(sudo) adduser [user] [group]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#usermod","title":"USERMOD","text":"<p>Podem utilitzar la comanda usermod:</p> <pre>\n<code>\n(sudo) usermod -a -G [group] [user]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#eliminar-usuari-dun-grup","title":"Eliminar usuari d'un grup","text":"<p>Per a eliminar un usuari de un grup utilitzem la seguent comanda, s'ha de tenir delicadesa ja que si no posem el grup, l'usuari sera eliminat:</p> <pre>\n<code>\n(sudo) deluser [user] [group]\n</code>\n</pre> <p></p> <p>Una altra forma es amb la comanda seguent:</p> <pre>\n<code>\n(sudo) gpasswd -d [user] [group]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#canviar-el-nom-dun-grup","title":"Canviar el nom d'un grup","text":"<p>Per canviar el nom del grup, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) groupmod -n [nouNom] [grup]\n</code>\n</pre> <p></p> <p></p>"},{"location":"sprint2/#assignar-administrador-de-un-grup","title":"Assignar administrador de un grup","text":"<p>Per posar un usuari com a administrador de un grup, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) gpasswd -A [user] [group]\n</code>\n</pre> <p></p> <p></p>"},{"location":"sprint2/#modificar-grup-principal-dun-usuari","title":"Modificar grup principal d'un usuari","text":"<p>Per posar un nou grup com a principal a un usuari, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) usermod -g [group] [user]\n</code>\n</pre> <p></p> <p></p>"},{"location":"sprint2/#assignar-contrasenya-a-un-grup","title":"Assignar contrasenya a un grup","text":"<p>Per assignar una contrasenya a un grup, escrivim la seguent comanda:</p> <pre>\n<code>\n(sudo) gpasswd [group]\n</code>\n</pre> <p></p> <p></p>"},{"location":"sprint2/#esborrar-contrasenya-de-un-grup","title":"Esborrar contrasenya de un grup","text":"<p>Per esborrar la contrasenya de un grup, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) gpasswd -r [group]\n</code>\n</pre> <p></p> <p></p>"},{"location":"sprint2/#gestio-de-permisos","title":"Gesti\u00f3 de permisos","text":"<p>Cada carpeta i fitxer en Linux tenen una serie de permisos. Aquests es separen amb permisos normals, umask, especials i ACLs.  Juntament amb els permisos, estant els propietaris del fitxer o carpeta en questio. Els propietaris son tant un usuari com un grup.</p> <pre>\n<code>\n(comanda) -R\n</code>\n</pre> <p>En totes les comandes seguents, es pot afegir el \"-R\" per fer-la recursiva, es a dir, que els permisos es pasen als fitxers i carpetes conte la propia carpeta.  Per a posar un usuari i un grup com a propietari, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) chown [user]:[group] [fitxer/carpeta]\n</code>\n</pre> <p></p> <p></p> <p>  Si es vol canviar solament el grup propietari, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) chgrp [group] [fitxer/carpeta]\n</code>\n</pre> <p></p> <p></p> <p></p>"},{"location":"sprint2/#permisos-base","title":"Permisos base","text":"<p>Els permisos es tracten en tres grups separats. Usuari propietari, grup propietari i altres. Per a cada un, es donen 3 permisos diferents:</p> <ul> <li>R: en ingles read, dona permisos de lectura.</li> <li>W: en ingles write, dona permisos d'escritura, en el cas de carpetes, modificacio.</li> <li>X: en ingles execute, dona permisos d'execucio.</li> </ul> <p>Per a modificar els permisos, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) chmod [permisos] [fitxer/carpeta]\n</code>\n</pre> <p>Els permisos es poden donar de diferentes maneres:</p> <p></p> <p>Tamb\u00e9 es pot en forma de simbols:  Primer s'escriu a quin tipus d'usuari aplica:</p> <ul> <li>u: usuri</li> <li>g: grup</li> <li>o: altres</li> </ul> <p>S'escriu si afegim, subtreure o copiar els permisos que pasarem:</p> <ul> <li>+: afegir</li> <li>-: substreure</li> <li>=: copiar exactament com es mostra</li> </ul> <p>Finalment, es posa el tipus de permis:</p> <ul> <li>r: llegir</li> <li>w: escriure</li> <li>x: executar</li> </ul> <pre>\n<code>\n(sudo) chmod [permisos] [fitxer/carpeta]\n</code>\n</pre> <p>Exemple en octal:</p> <p></p> <p></p> <p></p> <p>Exemple en simbols:</p> <p></p> <p></p>"},{"location":"sprint2/#umask","title":"Umask","text":"<p>El umask (user mask) controla els permisos predefinits que s'asignaran a archius i carpetes noves.  S'aconsegueix restan el umask amb els permisos donats en base octal, per exemple:  umask -&gt; 077  Permisos donats -&gt; 777  Si restem el umask amb els permisos donats -&gt; 777 - 077 = 700  Per tant els permisos que tindra finalment l'arxiu seran 700. </p> <p>La comanda es la seg\u00fcent:</p> <pre>\n<code>\n(sudo) umask [permisos per defecte]\n</code>\n</pre> <p>Warning</p> <p>L'efecte del umask dura tota la sessi\u00f3 de la terminal activa on s'ha realitzat la comanda. Per fer permanent la comanda, s'hauria d'incloure al .bashrc</p> <p></p>"},{"location":"sprint2/#permisos-especials","title":"Permisos especials","text":"<p>Els permisos especials en Linux, son permisos addicionals que es poden afegir als fitxers i carpetes del sistema segons les necessitats d'aquestes.</p>"},{"location":"sprint2/#sticky","title":"Sticky","text":"<p>En un directori, permet que solament el propietari del arxiu, o root, pugui modificar-ho.  S'utilitza comunment en la comparticio de carpetes.  En el camp de permisos, es mostra amb una t al final.</p> <pre>\n<code>\ndrwxrwxrwT\n</code>\n</pre> <p>Per a aplicar-ho en un directori, s'utilitza la seguent comanda:</p> <pre>\n<code>\n(sudo) chmod +t [directori]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#suid","title":"SUID","text":"<p>Permet a un usuari tindre els permisos del usuari propietari durant la execucio del fitxer. </p> <p>En el camp de permisos, es mostra amb una s en menys de una x a l'usuari propietari.</p> <pre>\n<code>\n-rwsr-xr-x\n</code>\n</pre> <p>Per a aplicar-ho en un arxiu, s'utilitza la seguent comanda:</p> <pre>\n<code>\n(sudo) chmod u+s [fitxer]\n</code>\n</pre>"},{"location":"sprint2/#exemple","title":"Exemple","text":"<p>L'arxiu executable, mostra el contingut de la carpeta /root, aquest contingut no es podra mostrar si no ets root.</p> <p></p> <p>Incloem al executable el permis especial suid i executem l'arxiu.</p> <p></p> <p></p>"},{"location":"sprint2/#sgid","title":"SGID","text":"<p>Permet a un usuari, executar els arxius com a membre del grup propietari de l'arxiu de forma temporal.  Tambe pot crear carpetes o arxius dintre si es una directori, en aquest cas, heredaran el grup pare del usuari que ha creat l'arxiu o directori. </p> <p>En el camp de permisos, es mostra amb una s en menys de una x al grup propietat.</p> <pre>\n<code>\n-rwxr-sr-x\n</code>\n</pre> <p>Per a aplicar-ho en un arxiu o directori, s'utilitza la seguent comanda:</p> <pre>\n<code>\n(sudo) chmod g+s [fitxer/directori]\n</code>\n</pre>"},{"location":"sprint2/#acls","title":"ACLs","text":"<p>Les ACLs (Llistes de control d'acc\u00e9s), s\u00f3n una extensio del sistema de permisos base del sistema en Linux. Aquests permisos, sol apliquen al usuari o grup seleccionat, el qual pot no ser el usuari o grup propietari. </p>"},{"location":"sprint2/#informacio-de-un-arxiu-directori","title":"Informaci\u00f3 de un arxiu / directori","text":"<p>Per a visualitzar els permisos incloent els ACLs, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) getfacl [fitxer/directori]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#definir-permisos","title":"Definir permisos","text":"<p>Per a definir permisos, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) setfacl -m [usuari/grup]:[nom usuari/grup]:[permisos] [fitxer/directori]\n</code>\n</pre> Note <p>Per a establir si es un usuari o grup, ho fem de la seguent forma:</p> <ul> <li>u: usuari</li> <li>g: grup </li> </ul> <p></p> <p> </p> <p>Tambe es pot definir permisos ACLs que s'hereden dintre de una carpeta. Per fer-ho, s'utilitza la seguent comanda:</p> <pre>\n<code>\n(sudo) setfacl -m d:[usuari/grup]:[nom usuari/grup]:[permisos] [fitxer/directori]\n</code>\n</pre> <p></p> <p></p>"},{"location":"sprint2/#eliminar-permisos","title":"Eliminar permisos","text":"<p>Per eliminar permisos d'un usuari o grup en concret, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) setfacl -x [usuari/grup]:[nom usuari/grup] [fitxer/directori]\n</code>\n</pre> <p> </p> <p>Tambe es pot eliminar totes les ACLs establertes amb la seguent comanda:</p> <pre>\n<code>\n(sudo) setfacl -b [fitxer/directori]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#sistemes-de-fitxers-i-particions","title":"Sistemes de fitxers i particions","text":""},{"location":"sprint2/#estructura-de-la-informacio","title":"Estructura de la informaci\u00f3","text":""},{"location":"sprint2/#sectors","title":"Sectors","text":"<p>Els sectors son la unitat minima f\u00edsica del disc. Dintre de cada sector s'emmagatzema l'informacio,  si la informacio ocupa mes que el sector, aquest es parteix i distrbueix entre diferents sectors. Aquest es de 512 bytes de mida i no es pot modificar de cap manera.</p>"},{"location":"sprint2/#blocs","title":"Blocs","text":"<p>Els blocs son la unitat minima logica dintre de una particio de un disc en un sistema operatiu. Cada bloc esta fet per sectors de la unitat fisica. La informacio es guarda en cada bloc, si aquest ocupa mes que el bloc, es redistribueix entre els blocs lliures. Si ocupa menys, es deixa un espai el qual no es pot assignar a cap arxiu. Per a cada arxiu o carpeta hi ha un \"index\" el qual apunta a la direccio de bloc on es localitza, aquest \"index\" es gestionat per el sistema de arxius.  Usualment son de 4096 bytes pero es pot canviar segons les necessitats de la particio.</p>"},{"location":"sprint2/#fragmentacio-interna","title":"Fragmentaci\u00f3 interna","text":"<p>La fragmentaci\u00f3 interna ocurreix quan la informaci\u00f3 no completa el espai del bloc, deixant aixi un espai el qual no es pot ocupar.  A petita escala no es ningun problema greu, a gran escala es pot perdre espai el qual es podria aprofitar per assignar mes informacio.  Es pot arreglar canviant la mida del bloc a una mida mes ajustada, d'aquesta manera l'espai que es perd es inferior.</p>"},{"location":"sprint2/#fragmentacio-externa","title":"Fragmentaci\u00f3 externa","text":"<p>La fragmentacio externa ocurreix quan la informacio esta fragmentada entre diferents blocs del sistema.  La informacio al estar distribuida de forma no lineal en el disc, es mes dificil i es tarda mes poder utilitzar-lo de qualsevol forma, ja que s'hauria de observar els apuntadors de cada part de l'arxiu.  Es pot arreglar formatejant el disc o utilitzant un defragmentador. En Windows esta de forma nativa, en Linux s'hauria d'instalar.</p>"},{"location":"sprint2/#tipus-de-formateig","title":"Tipus de formateig","text":""},{"location":"sprint2/#apuntadors","title":"Apuntadors","text":"<p>Com mencionat anteriorment, la informacio esta situada en blocs, els quals esta controlat pel sistema operatiu. En cada bloc (o mes d'un) conte un arxiu, carpeta, etc.  Per a poder trobar cada arxiu o carpeta, el sistema utilitza un \"index\" el qual apunta a cada arxiu o carpeta. Si el bloc no es indicat en algun apuntador, el sistema simplement l'utilitzara com a buit, cosa que pot no ser cert.</p>"},{"location":"sprint2/#alt-nivell","title":"Alt nivell","text":"<p>Solament borra el sistema d'apuntadors, pero no borra els fitxers on s'apunta.  Bastant agil al no borrar els arxius, cosa que pot tardar bastant de temps.</p>"},{"location":"sprint2/#normal","title":"Normal","text":"<p>Tambe borra el sistema d'apuntadors. Si hi ha algun sector defectuos el marca i no guardara res en aquell sector.  Mes lent que el de alt nivell al marcar sectors defectuosos. Per aquest motiu, es mes segur al guardar informacio despres del formateig.</p>"},{"location":"sprint2/#baix-nivell","title":"Baix nivell","text":"<p>Borra el sistema d'apuntadors, la informacio dintre de cada sector i intenta arreglar els sectors defectuosos.  Actualment no esta inclos en cap SO, s'ha defectuar amb programes especialitzats.  El mes lent al tenir que borrar completament tot.</p>"},{"location":"sprint2/#sistemes-de-fitxers","title":"Sistemes de fitxers","text":""},{"location":"sprint2/#teoria","title":"Teoria","text":"<p>Un sistema de fitxers es una  forma de gestionar i organitzar l'emmagatzemament.  Hi han molts sistemes de fitxers diferents, en aquest cas solament veurem ext4 (Linux) i ntfs (Windows).</p>"},{"location":"sprint2/#ext4","title":"EXT4","text":"<ul> <li>Es el sistema de fitxers que normalment treballa Linux.</li> <li>Soporta fitxers de fins 16 TB.</li> <li>Es eficient amb els arxius petits.</li> <li>Incloeix un registre el qual protegeix les dades en cas d'apagar-se de forma repentina.</li> </ul>"},{"location":"sprint2/#ntfs","title":"NTFS","text":"<ul> <li>Es el sistemde fitxers que normalment treballa Windows.</li> <li>Soporta fitxers de fins 16 TB.</li> <li>Incloeix xifrat i compressio de fitxers i carpetes.</li> <li>Es compatible amb Linux pero, pot donar diversos problemes.</li> </ul>"},{"location":"sprint2/#particions","title":"Particions","text":""},{"location":"sprint2/#llistar-particions","title":"Llistar particions","text":"<p>Per llistar els discs del sistema, utiltizem la seguent comanda:</p> <pre>\n<code>\n(sudo) fdisk -l\n</code>\n</pre> <p></p> <ul> <li>Disk model: mostra el model del disc</li> <li>Units: defineix com es mesura la capacitat del disc, en aquest cas en sectors.</li> <li>Sector Size: indica el tamany del sector</li> <li>I/O size: indica el tamany optim per a operacions d'entrada i sortida.</li> <li>Disklabel Type: tipus de taula de particions</li> <li>Disk Identifier: identificador unic del disc.</li> </ul>"},{"location":"sprint2/#particionar-disc","title":"Particionar disc","text":"<p>Per particionar el disc, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) fdisk [disc]\n</code>\n</pre> <p></p> <p>Per comen\u00e7ar una nova partici\u00f3, escrivim n (new).</p> <p>Seguidament, podem escollir el tipus de partici\u00f3.</p> <p>A continuaci\u00f3, podem seleccionar el primer sector de la partici\u00f3, per defecte es 2048, ja que del 0 al 2047 es posiciona la taula de particions.</p> <p>Indiquem el final de la particio, per defecte es tot el restant del disc. En aquest cas, solament agafarem la meitat.</p> <p>Si llistem els discs i particions, podrem observar que s'ha creat sastisfactoriament:</p> <p></p>"},{"location":"sprint2/#afegir-sistema-de-fitxers","title":"Afegir sistema de fitxers","text":""},{"location":"sprint2/#ext4_1","title":"EXT4","text":"<p>Per afegir el sistema de fitxers ext4, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) mkfs.ext4 [particio]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#ntfs_1","title":"NTFS","text":"<p>Per afegir el sistema de fitxers ntfs, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) mkfs.ntfs [particio]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#mides-de-bloc","title":"Mides de bloc","text":"<p>Es pot canviar la mida del bloc a l'afegir el sistema de fitxers, es pot modificar utilitzant la seguent comanda:</p> <pre>\n<code>\n(sudo) mkfs.ext4 -b [mida de bloc en bytes] [particio]\n</code>\n</pre> <p></p> <p>En ntfs, la comanda canvia al seguent:</p> <pre>\n<code>\n(sudo) mkfs.ntfs -c [mida de bloc en bytes] [particio]\n</code>\n</pre> <p></p> <p>Note</p> <p>La mida del bloc ha de ser una potencia de 2, per exemple 2048, 8192, etc. Com mostrat en la imatge, alguns sistemes de fitxers poden no soportar certes mides de bloc.</p> <p>Per verificar que la mida de bloc ha estat correctament aplicat, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) tune2fs -l [particio] | grep Block\n</code>\n</pre> <p></p>"},{"location":"sprint2/#montatge","title":"Montatge","text":"<p>Per a montar de forma provisional una particio necessitem una carpeta accessible dintre del sistema.  S'ha de tenir en compte que al montar sobre un directori, la informacio que habia en la carpeta no esta borrada, el directori solament apunta a la particio. Tampoc es borra la informacio dintre de la partico al desmontar-ho.</p>"},{"location":"sprint2/#provisional","title":"Provisional","text":"<p>Per a montar de forma provisional una particio, utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) mount -t ext4 [particio] [carpeta]\n</code>\n</pre> <p></p> <p>Warning</p> <p>Al ser un montatge provisional, al reiniciar l'equip aquest es desmonta automaticament.</p>"},{"location":"sprint2/#desmontar","title":"Desmontar","text":"<p>Per a desmontar una particio utilitzem la seguent comanda:</p> <pre>\n<code>\n(sudo) umount [particio]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#permanent","title":"Permanent","text":"<p>Si volem fer un montatge permanent (es torna a muntar automaticament al iniciar l'equip), haurem de modificar l'arxiu /etc/fstab amb la seguent linea:</p> <pre>\n<code>\n[particio] [carpeta] [sistema de fitxers] [permisos de particio] [dump] [comprovacio]\n</code>\n</pre> <ul> <li>Dump: activa (1) o desactiva (0) el process dump. Aquest proces es una copia de seguretat del sistema de fitxers. Habitualment es deixa en 0</li> <li>Comprovacio: comprova l'estat del sistema de fitxers. Pot no comprovar (0), comprovar al iniciar el sistema (1) o comprovar despres (2).</li> </ul> <p></p>"},{"location":"sprint2/#comparticio-de-una-particio","title":"Compartici\u00f3 de una partici\u00f3","text":"<p>Per a compartir una carpeta, utilitzarem el servei samba, el qual segueix un protocol servidor client.</p>"},{"location":"sprint2/#servidor","title":"Servidor","text":"<p>Primer instalarem el servei amb la seguent comanda:</p> <pre>\n<code>\n(sudo) apt install samba\n</code>\n</pre>"},{"location":"sprint2/#configuracio-de-fitxers","title":"Configuracio de fitxers","text":"<p>Seguidament, modificarem el fitxer /etc/samba/smb.conf afegint les seguent linees:</p> <pre>\n<code>\n[nom particio]\npath = (directori que es vol compartir)\nbrowseable = (yes | no)\nread only = (yes | no)\nwriteable = (yes | no)\nguest ok = (yes | no)\nread list = (usuari)\nwrite list = (usuari, @grup)\ncreate mask = (mascara de permisos)\ndirectory mask = (mascara de permisos)\n</code>\n</pre> <p>Exemple:</p> <p></p> <p>Note</p> <p>El usuari, en aquest cas gina, es un usuari ja establert en el sistema operatiu.</p> <p>A continuaci\u00f3, comprovem que hem escrit correctament la configuracio reiniciant el servei amb la seguent comanda:</p> <pre>\n<code>\n(sudo) systemct restart smbd nmbd\n</code>\n</pre> <p>I comprovem que el servei funcioni de forma correcta:</p> <pre>\n<code>\n(sudo) systemct status smbd\n</code>\n</pre> <p></p>"},{"location":"sprint2/#afegir-usuaris-a-samba","title":"Afegir usuaris a samba","text":"<p>Primer, afegim l'usuari del sistema que es vol afegir tambe a samba al grup sambashare. Per a aixo, podem utilitzar la seguent comanda:</p> <pre>\n<code>\n(sudo) gpasswd [usuari] sambashare\n</code>\n</pre> <p>A continuacio, afegim l'usuari a samba amb la seguent comanda:</p> <pre>\n<code>\n(sudo) smbpasswd -a [usuari]\n</code>\n</pre> <p></p>"},{"location":"sprint2/#comparticio-de-la-carpeta","title":"Comparticio de la carpeta","text":"<p>Per a compartir la carpeta, s'ha de tenir en compte els permisos de la propia carpeta i on esta localitzada.  Seguidament canviarem els permisos de la carpeta i l'usuari i grup propietari a nobody nogroup, d'aquesta manera no poden succeir errors per culpa de permisos incompatibles entre el sistema i el servei samba.</p> <p></p>"},{"location":"sprint2/#client","title":"Client","text":"<p>Primer, instalarem el client de samba amb la seguent comanda:</p> <pre>\n<code>\n(sudo) apt install smbclient\n</code>\n</pre>"},{"location":"sprint2/#comprovacions","title":"Comprovacions","text":"<p>Per a comprovar que l'equip pot connectar-se al servidor samba, utilitzem la seguent comanda:</p> <pre>\n<code>\nsmbclient -L //[ip] -U [usuari]\n</code>\n</pre> <p></p> <p>En aquest cas, podrem connectar-nos ja que mostra les coses compartides pel servidor, entre elles la carpeta.</p>"},{"location":"sprint2/#connexio","title":"Connexio","text":"<p>Una forma de connectar-se, es mitjansant el buscador de fitxers.  En el buscador de fitxers d'Ubuntu, podem dirigir-nos a altres ubicacions i en la part inferior afegir la ubicacio de la carpeta.</p> <p></p> <p>Ens demanara les credencials.</p> <p></p> <p></p>"},{"location":"sprint2/#copies-de-seguretat","title":"Copies de seguretat","text":""},{"location":"sprint2/#conceptes-teorics","title":"Conceptes teorics","text":"<p>En qualsevol sistema es preferible tenir copies de seguretat per a qualsevol cas.  Juntament amb les copies de seguretat, s'ha de tenir una bona politica de les copies de seguretat.  Es recomana, com a la millor politica de copies de seguretat, tenir les copies en un altre edifici i en una caixa innifuga.</p>"},{"location":"sprint2/#completes","title":"Completes","text":"<ul> <li>Es fa una copia completa.</li> <li>Es pesat</li> <li>Tarda molt</li> <li>Al revertir fins la copia de seguretat, es facil.</li> <li>Nomes es necessita la ultima copia.</li> </ul>"},{"location":"sprint2/#diferencials","title":"Diferencials","text":"<ul> <li>Es fa una copia completa cada cert temps, despres es fa una copia solament guardant els canvis fins la ultima copia completa.</li> <li>No es tant pesat com les completes</li> <li>Tarda molt al tindre que cargar la completa i la diferencial</li> <li>Es necessita la ultima copia completa i diferencial per a poder revertir.</li> </ul>"},{"location":"sprint2/#incrementals","title":"Incrementals","text":"<ul> <li>Es fa una copia completa cada cert temps, despres es fa una copia solament guardant els canvis de la ultima copia, sent la ultima una altra incremental o completa.</li> <li>No es tant pesat com les completes</li> <li>Es necessita la ultima copia completa i cadascuna de les copies incrementals que s'han fet despres.</li> </ul>"},{"location":"sprint2/#programes-amb-interficie-grafica","title":"Programes amb interficie grafica","text":""},{"location":"sprint2/#deja-dup","title":"Deja Dup","text":"<p>Per instalar Deja Dup, podem fer-ho en el App Center de Ubuntu.</p> <p></p> <p>A l'instalar-lo per primera vegada ens demanara crear una copia de seguretat. </p> <p>En el menu que es desplegara, podem escollir la carpeta que es fara copia, per defecte es la carpeta home del usuari. </p> <p>Abaix, podem escollir quines carpetes ha d'ignorar la copia, per defecte es la carpeta brosa i descargues. </p> <p>Seguidament, escollim en quina carpeta es guardaran les copies.</p> <p></p> <p>Es pot aplicar contrasenyes i encriptar les copies de seguretat.</p> <p></p> <p>A continuacio, es realitzara la copia de seguertat.</p> <p></p> <p>Despres, ens mostrara el menu principal on, podrem activar les copies automatiques i saber quan ha sigut la ultima copia.</p> <p></p> <p>En la part superior, podem pasar a la seccio restore, on podrem restaurar les copies de seguretat segons les copies realitzades. Es mostra en la part inferior esquerra el dia de la copia.</p> <p></p> <p>En la part superior dretam podem escollir les configuracions de les copies.</p> <p></p> <p>En les configuracions generals, podem escollir la carpeta on es localitzen les copies, quan es fan les copies automatiques i quan duren guardades les copies. </p> <p>En les configuracions de  les carpetes podem escollir les carpetes que es fan copia i les que ignora. </p>"},{"location":"sprint2/#comandes","title":"Comandes","text":""},{"location":"sprint2/#cp","title":"CP","text":"<p>Aquesta comanda copia el contingut de un arxiu o carpeta a una altra de forma local.  Solament copia contingut pero no fa canvis dintre de la carpeta desti, es a dir, si s'ha esborrat un arxiu i es fa una altra copia, dintrem dos copies dintre de la carpeta desti.</p> <pre>\n<code>\n(sudo) cp [opcions] [origen] [desti]\n</code>\n</pre> <ul> <li>Opcions: podem posar diferents opcions segons les nostres necessitats. La mes habitual es -R per a copiar el contingut dintre de una carpeta i els seus fills.</li> </ul> <p></p>"},{"location":"sprint2/#rsync","title":"RSYNC","text":"<p>Aquesta comanda copia el contingut de un arxiu o carpeta a una altra, tant de forma local com remota.  Pot solament copiar les modificacions empleats en la carpeta de origen en vers a la carpeta desti</p> <pre>\n<code>\n(sudo) rsync [opcions] [origen] [desti]\n</code>\n</pre> <p>Les diferentes opcions mes populars son:</p> <ul> <li>a: permet que es transpasi de forma segura links simbolics, permisos, dates de modificacio, etc.</li> <li>v: mostra en detall el proces de traspas de les dades.</li> <li>delete: qualsevol carpeta o fitxer que no es mostri en la carpeta de origen s'elimini en la carpeta de desti.</li> </ul> <p></p>"},{"location":"sprint2/#dd","title":"DD","text":"<p>Copia les dades entre dos particions. Es recomana que les dos particions tinguin el mateix emmagatzemament.</p> <pre>\n<code>\n(sudo) dd if=[origen] of=[desti] bs=[blocs de enviament] status=progress\n</code>\n</pre> <p></p> <p>Podem comprovar que la informacio entre les dos particions es igual mitjansant un hash.  Per fer un hash, podem utilitzar la seguent comanda:</p> <pre>\n<code>\n(sudo) md5sum [particio1] [particio2]\n</code>\n</pre> <p></p>"}]}